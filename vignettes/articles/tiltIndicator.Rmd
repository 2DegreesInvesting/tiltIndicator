---
title: "The tilt indicators"
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

This article helps you get started with the tiltIndicator pacakge. Currently it
supports two indicators: Input Carbon Transition Risk (ICTR) and Product Carbon
Transition Risk (PCTR). They are both calculated in exactly the same way. The
difference is not the process but the kind of `co2` data: either comes from
inputs or products.

We'll use general purpose tools from the dplyr package, and the experimental
[tiltIndicator](https://2degreesinvesting.github.io/tiltIndicator/index.html)
package.

```{r setup}
library(dplyr, warn.conflicts = FALSE)
library(tiltIndicator)
```

## Input carbon transition risk (ICTR)

<!-- WARNING: Do not write here. Instead write in the `child` file -->

```{r child=extdata_path("child/intro-ictr.Rmd")}
```

## Product carbon transition risk (PCTR)

<!-- WARNING: Do not write here. Instead write in the `child` file -->

```{r child=extdata_path("child/intro-pctr.Rmd")}
```

## Example

Use `xctr*()` to calculate both ICTR and PCTR. Their difference is in the `co2`
dataset. Here we'll use example datasets that come with the tiltIndicator
package: `companies`, `inputs`, and `products`.

```{r}
companies

# ICTR
inputs

companies |>
  xctr_at_product_level(co2 = inputs)

companies |>
  xctr_at_product_level(co2 = inputs) |>
  xctr_at_company_level()

# Same
companies |> xctr(co2 = inputs)

# PCTR
products

companies |>
  xctr_at_product_level(co2 = products)

companies |>
  xctr_at_product_level(co2 = products) |>
  xctr_at_company_level()

# Same
companies |> xctr(co2 = products)
```
