---
title: "The tilt indicators"
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

This article introduces the tilt indicators. First we introduce the tilt
indicators in general, then explain each indicator's details and show the code
you can use to calculate it.

We'll use general purpose tools from the dplyr package, and the experimental [tiltIndicator](https://2degreesinvesting.github.io/tiltIndicator/index.html) package.

```{r setup}
library(dplyr, warn.conflicts = FALSE)
library(tiltIndicator)
```

The tiltIndicator package comes with a number of datasets, which we'll use in the examples below.

```{r echo=FALSE}
datasets <- data(package = "tiltIndicator")[["results"]][, "Item"]
setNames(lapply(datasets, get), datasets)
```

## Genral introduction

<!-- WARNING: Do not write here. Instead write in the `child` file -->

```{r child=extdata_path("child/intro-general.Rmd")}
```

## Input carbon transition risk (ICTR)

<!-- WARNING: Do not write here. Instead write in the `child` file -->

```{r child=extdata_path("child/intro-ictr.Rmd")}
```

### Example

```{r}
ictr_inputs |>
  ictr_score_inputs() |>
  ictr_score_companies(ictr_companies)
```

## Input sector transition risk (ISTR)

<!-- WARNING: Do not write here. Instead write in the `child` file -->

```{r child=extdata_path("child/intro-istr.Rmd")}
```

### Example

```{r}
istr_companies |>
  istr_mapping(istr_ep_weo) |>
  istr_add_reductions(istr_weo_2022) |>
  istr_add_transition_risk() |>
  istr_aggregate_scores(istr_companies)
```

## Product carbon transition risk (PCTR)

<!-- WARNING: Do not write here. Instead write in the `child` file -->

```{r child=extdata_path("child/intro-pctr.Rmd")}
```

### Example

```{r}
pctr_ecoinvent_co2 |>
  pctr_score_activities() |>
  pctr_score_companies(pctr_companies)
```

## Product sector transition risk (PSTR)

<!-- WARNING: Do not write here. Instead write in the `child` file -->

```{r child=extdata_path("child/intro-pstr.Rmd")}
```

### Example

```{r}
pstr_companies |>
  pstr_add_reductions(pstr_ep_weo, pstr_weo_2022) |>
  pstr_add_transition_risk()
```
