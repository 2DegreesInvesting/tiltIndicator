<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="tiltIndicator">
<title>Input sector transition risk (ISTR) • tiltIndicator</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Input sector transition risk (ISTR)">
<meta property="og:description" content="tiltIndicator">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tiltIndicator</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9022</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/tiltIndicator.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/istr.html">Input sector transition risk (ISTR)</a>
    <a class="dropdown-item" href="../articles/pctr-questions.html">PCTR questions</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/2DegreesInvesting/tiltIndicator/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Input sector transition risk (ISTR)</h1>
                        <h4 data-toc-skip class="author">Lyanne Ho</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/2DegreesInvesting/tiltIndicator/blob/HEAD/vignettes/articles/istr.Rmd" class="external-link"><code>vignettes/articles/istr.Rmd</code></a></small>
      <div class="d-none name"><code>istr.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h2>
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<p>Install the development version of tiltIndicator from GitHub
with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="co"># devtools::install_github("2DegreesInvesting/tiltIndicator") #</span></span></code></pre></div>
<p>Packages</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span>, warn.conflicts <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/2DegreesInvesting/tiltIndicator" class="external-link">tiltIndicator</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="data">Data<a class="anchor" aria-label="anchor" href="#data"></a>
</h3>
<p>The tiltIndicator package comes with example datasets</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">reshaped_istr_companies</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">istr_companies</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 33</span></span>
<span><span class="co">#&gt; Columns: 36</span></span>
<span><span class="co">#&gt; $ X                                              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 2, 3, 4, 5, 6, 7, 8,…</span></span>
<span><span class="co">#&gt; $ company_name                                   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "fleischerei stiefsohn"…</span></span>
<span><span class="co">#&gt; $ main_activity                                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "manufacturer/ producer…</span></span>
<span><span class="co">#&gt; $ address                                        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "linzerstrasse 15 | 338…</span></span>
<span><span class="co">#&gt; $ company_city                                   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "prinzersdorf", "prinze…</span></span>
<span><span class="co">#&gt; $ postcode                                       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 3385, 3385, 3385, 3385,…</span></span>
<span><span class="co">#&gt; $ country                                        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "austria", "austria", "…</span></span>
<span><span class="co">#&gt; $ clustered                                      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "shellfish", "crustacea…</span></span>
<span><span class="co">#&gt; $ clustered_unit_ecoinvent                       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "kg", "kg", "m3", "kg",…</span></span>
<span><span class="co">#&gt; $ ecoinvent                                      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "ordinary transforming …</span></span>
<span><span class="co">#&gt; $ group                                          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "agriculture_livestock"…</span></span>
<span><span class="co">#&gt; $ sector                                         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "animals_livestock", "s…</span></span>
<span><span class="co">#&gt; $ subsector                                      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "fish_meal_for_livestoc…</span></span>
<span><span class="co">#&gt; $ sector_ecoinvent_delimited                     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "infrastructure &amp; machi…</span></span>
<span><span class="co">#&gt; $ sector_ecoinvent                               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "infrastructure &amp; machi…</span></span>
<span><span class="co">#&gt; $ co2_products                                   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 33.25, 98.25, -2.98, 57…</span></span>
<span><span class="co">#&gt; $ co2_input_1                                    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 25.74, 43.58, 86.02, 24…</span></span>
<span><span class="co">#&gt; $ co2_input_2                                    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 14.44, -2.30, 43.04, 65…</span></span>
<span><span class="co">#&gt; $ co2_input_3                                    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 55.58, 31.84, 44.22, -3…</span></span>
<span><span class="co">#&gt; $ companies_id                                   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "fleischerei-stiefsohn_…</span></span>
<span><span class="co">#&gt; $ products_companies_id                          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "228f0255ed9bc6160f97e3…</span></span>
<span><span class="co">#&gt; $ products_id                                    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "cf914aa7a0739404346fb1…</span></span>
<span><span class="co">#&gt; $ delimited_products_id                          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "1465c218911e5dbfa9f6a6…</span></span>
<span><span class="co">#&gt; $ delimited_id                                   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "7fe3519695c56b1307f267…</span></span>
<span><span class="co">#&gt; $ clustered_delimited_id                         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "a61140d857877bad8aec2c…</span></span>
<span><span class="co">#&gt; $ clustered_id                                   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "7fe3519695c56b1307f267…</span></span>
<span><span class="co">#&gt; $ main_activity_id                               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "fd62c01c0168c1f0225096…</span></span>
<span><span class="co">#&gt; $ categories_id                                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "b45f981bba43e76756e7e8…</span></span>
<span><span class="co">#&gt; $ categories_sector_ecoinvent_delimited_id       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "52728ae24adcce08ff3a45…</span></span>
<span><span class="co">#&gt; $ sector_ecoinvent_delimited_id                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "fff49bd7f46c38c28dc6cb…</span></span>
<span><span class="co">#&gt; $ sector_ecoinvent_delimited_sector_ecoinvent_id <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "e34650745979a9397ec7f6…</span></span>
<span><span class="co">#&gt; $ sector_ecoinvent_id                            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "42f0f7713747d5487dd833…</span></span>
<span><span class="co">#&gt; $ time                                           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 1, 1, 1, 1, 1, 1, 1,…</span></span>
<span><span class="co">#&gt; $ inputs                                         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "drone for crop inspect…</span></span>
<span><span class="co">#&gt; $ eco_sectors                                    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "steel_metal_transforma…</span></span>
<span><span class="co">#&gt; $ id                                             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 2, 3, 4, 5, 6, 7, 8,…</span></span>
<span></span>
<span><span class="va">istr_ep_weo</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">istr_ep_weo</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 133</span></span>
<span><span class="co">#&gt; Columns: 6</span></span>
<span><span class="co">#&gt; $ ï..EP_categories_id <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "d3a7a3c40afd18a7a840942262099f23f65c19a0", "8d926…</span></span>
<span><span class="co">#&gt; $ ECO_group           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "metallurgy_metalworking", "metallurgy_metalworkin…</span></span>
<span><span class="co">#&gt; $ ECO_sector          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "steel_metal_transformation", "steel_metal_transfo…</span></span>
<span><span class="co">#&gt; $ ECO_subsector       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "bending_steels_and_metals", "boilers_stainless_st…</span></span>
<span><span class="co">#&gt; $ weo_product_mapper  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Total", "Total", "Total", "Total", "Total", "Tota…</span></span>
<span><span class="co">#&gt; $ weo_flow_mapper     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Iron and steel", "Iron and steel", "Iron and stee…</span></span>
<span></span>
<span><span class="va">istr_weo_2022</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">istr_weo_2022</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 8</span></span>
<span><span class="co">#&gt; Columns: 10</span></span>
<span><span class="co">#&gt; $ publication <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "World Energy Outlook 2021", "World Energy Outlook 2021", …</span></span>
<span><span class="co">#&gt; $ scenario    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Stated Policies Scenario", "Net Zero Emissions by 2050 Sc…</span></span>
<span><span class="co">#&gt; $ region      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "world", "world", "world", "world", "world", "world", "wor…</span></span>
<span><span class="co">#&gt; $ category    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "co2 combustion", "co2 combustion", "co2 combustion", "co2…</span></span>
<span><span class="co">#&gt; $ product     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Total", "Total", "Total", "Total", "Total", "Total", "Tot…</span></span>
<span><span class="co">#&gt; $ flow        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Road passenger light duty vehicle", "Road passenger light…</span></span>
<span><span class="co">#&gt; $ unit        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "mt co2", "mt co2", "mt co2", "mt co2", "mt co2", "mt co2"…</span></span>
<span><span class="co">#&gt; $ year        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2020, 2030, 2040, 2050, 2020, 2030, 2040, 2050</span></span>
<span><span class="co">#&gt; $ value       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2787.63, 1626.32, 546.54, 84.56, 2590.57, 194.53, 10122.90…</span></span>
<span><span class="co">#&gt; $ reductions  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0.00, 41.66, 80.39, 96.97, 0.00, 31.35, 66.86, 91.49</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="analysis">Analysis<a class="anchor" aria-label="anchor" href="#analysis"></a>
</h2>
<div class="section level3">
<h3 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h3>
<p>The Input Product Sector Risk Indicator assesses the transition risk
of the input products based on the sector’s emissions targets the input
product belongs to. Those sector emission reduction targets vary across
scenarios (e.g., net zero scenario or 1.5° scenario) and the time
horizon (e.g., reduction needed in 2030, 2040, 2050 to achieve the
targets). It, therefore, is similar to the Product Sector Risk Indicator
but focuses on the input products that the company needs to produce its
products.The input products are, for example, resources, packaging
materials, energy and enabling services (such as tractor use on farm) to
produce the product.</p>
<p>If an input product belongs to a sector in which reduction targets
are over 70%, it belongs to a high-risk sector and is classified as
‘high sector transition risk’. If the input product belongs to a sector
in which reduction targets are between 30-70%, the product is classified
into the category ‘medium sector transition risk’ and if it is below 30%
it belongs to the category of ‘low sector transition risk’. If it does
not belong to a sector that has decarbonization targets, it is
classified as ‘no sector transition risk’.</p>
<p>After assessing the input products for each product, they will be
aggregated at company-level to derive what percentage of the input
products required by the company to produce its products have high,
medium and low sector transition risk. We, therefore, derive the
company-level information.</p>
<p>Please note that carbon emissions or emissions always mean CO2e.</p>
<p>The goal of the transition risk MVP is to create a first draft of how
the sector transition risk indicator for inputs would be build in code
in order to convert it into code production easily in the future.</p>
<p>The transition risk indicator consists of 5 main steps:</p>
<ul>
<li>Step 1: Identifying the input products for each product</li>
<li>Step 2: Matching the input products to the sectors</li>
<li>Step 3: Identifying sector-specific emission reduction targets</li>
<li>Step 4: Categorising sector emission reduction targets into high,
medium, and low sector transition risk</li>
<li>Step 5: Aggregating on the company-level</li>
</ul>
</div>
<div class="section level3">
<h3 id="step-1-identifying">Step 1: Identifying<a class="anchor" aria-label="anchor" href="#step-1-identifying"></a>
</h3>
<p>Use mapper that serves as a sector classification bridge between the
Ecoinvent’s’ sectors and the WEO 2022 file.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">istr_companies</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/istr_mapping.html">istr_mapping</a></span><span class="op">(</span><span class="va">reshaped_istr_companies</span>, <span class="va">istr_ep_weo</span><span class="op">)</span></span>
<span><span class="va">istr_companies</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1,174 × 41</span></span></span>
<span><span class="co">#&gt;        X company_name        main_activity address company_city postcode country</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>     1 fleischerei stiefs… manufacturer… linzer… prinzersdorf     <span style="text-decoration: underline;">3</span>385 austria</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>     1 fleischerei stiefs… manufacturer… linzer… prinzersdorf     <span style="text-decoration: underline;">3</span>385 austria</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>     1 fleischerei stiefs… manufacturer… linzer… prinzersdorf     <span style="text-decoration: underline;">3</span>385 austria</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>     1 fleischerei stiefs… manufacturer… linzer… prinzersdorf     <span style="text-decoration: underline;">3</span>385 austria</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>     1 fleischerei stiefs… manufacturer… linzer… prinzersdorf     <span style="text-decoration: underline;">3</span>385 austria</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>     1 fleischerei stiefs… manufacturer… linzer… prinzersdorf     <span style="text-decoration: underline;">3</span>385 austria</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>     1 fleischerei stiefs… manufacturer… linzer… prinzersdorf     <span style="text-decoration: underline;">3</span>385 austria</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>     1 fleischerei stiefs… manufacturer… linzer… prinzersdorf     <span style="text-decoration: underline;">3</span>385 austria</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>     1 fleischerei stiefs… manufacturer… linzer… prinzersdorf     <span style="text-decoration: underline;">3</span>385 austria</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>     1 fleischerei stiefs… manufacturer… linzer… prinzersdorf     <span style="text-decoration: underline;">3</span>385 austria</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1,164 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 34 more variables: clustered &lt;chr&gt;, clustered_unit_ecoinvent &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ecoinvent &lt;chr&gt;, group &lt;chr&gt;, sector &lt;chr&gt;, subsector &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   sector_ecoinvent_delimited &lt;chr&gt;, sector_ecoinvent &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   co2_products &lt;dbl&gt;, co2_input_1 &lt;dbl&gt;, co2_input_2 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   co2_input_3 &lt;dbl&gt;, companies_id &lt;chr&gt;, products_companies_id &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   products_id &lt;chr&gt;, delimited_products_id &lt;chr&gt;, delimited_id &lt;chr&gt;, …</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="step-2-matching-the-input-products-to-the-sectors">Step 2: Matching the input products to the sectors<a class="anchor" aria-label="anchor" href="#step-2-matching-the-input-products-to-the-sectors"></a>
</h3>
<p>Each product of the company will be matched to a climate-relevant
sector.</p>
<p>We join this on the sectors.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">with_reductions</span> <span class="op">&lt;-</span> <span class="va">istr_companies</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/istr_add_reductions.html">istr_add_reductions</a></span><span class="op">(</span><span class="va">istr_weo_2022</span><span class="op">)</span></span>
<span><span class="va">with_reductions</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4,672 × 49</span></span></span>
<span><span class="co">#&gt;        X company_name        main_activity address company_city postcode country</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>     1 fleischerei stiefs… manufacturer… linzer… prinzersdorf     <span style="text-decoration: underline;">3</span>385 austria</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>     1 fleischerei stiefs… manufacturer… linzer… prinzersdorf     <span style="text-decoration: underline;">3</span>385 austria</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>     1 fleischerei stiefs… manufacturer… linzer… prinzersdorf     <span style="text-decoration: underline;">3</span>385 austria</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>     1 fleischerei stiefs… manufacturer… linzer… prinzersdorf     <span style="text-decoration: underline;">3</span>385 austria</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>     1 fleischerei stiefs… manufacturer… linzer… prinzersdorf     <span style="text-decoration: underline;">3</span>385 austria</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>     1 fleischerei stiefs… manufacturer… linzer… prinzersdorf     <span style="text-decoration: underline;">3</span>385 austria</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>     1 fleischerei stiefs… manufacturer… linzer… prinzersdorf     <span style="text-decoration: underline;">3</span>385 austria</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>     1 fleischerei stiefs… manufacturer… linzer… prinzersdorf     <span style="text-decoration: underline;">3</span>385 austria</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>     1 fleischerei stiefs… manufacturer… linzer… prinzersdorf     <span style="text-decoration: underline;">3</span>385 austria</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>     1 fleischerei stiefs… manufacturer… linzer… prinzersdorf     <span style="text-decoration: underline;">3</span>385 austria</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 4,662 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 42 more variables: clustered &lt;chr&gt;, clustered_unit_ecoinvent &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ecoinvent &lt;chr&gt;, group &lt;chr&gt;, sector &lt;chr&gt;, subsector &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   sector_ecoinvent_delimited &lt;chr&gt;, sector_ecoinvent &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   co2_products &lt;dbl&gt;, co2_input_1 &lt;dbl&gt;, co2_input_2 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   co2_input_3 &lt;dbl&gt;, companies_id &lt;chr&gt;, products_companies_id &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   products_id &lt;chr&gt;, delimited_products_id &lt;chr&gt;, delimited_id &lt;chr&gt;, …</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="step-3-identifying-sector-specific-emission-reduction-targets">Step 3: Identifying sector-specific emission reduction targets<a class="anchor" aria-label="anchor" href="#step-3-identifying-sector-specific-emission-reduction-targets"></a>
</h3>
<p>Let us categorize the transition risk into low, medium and high risk,
based on the value of the reductions.</p>
<ul>
<li><p>reductions ≤ 30% means low product sector transition
risk.</p></li>
<li><p>30% &lt; reductions ≤ 70% means medium product sector transition
risk.</p></li>
<li><p>reductions &gt; 70% means high product sector transition
risk.</p></li>
</ul>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">with_transition_risk</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/istr_add_transition_risk.html">istr_add_transition_risk</a></span><span class="op">(</span><span class="va">with_reductions</span><span class="op">)</span></span>
<span><span class="va">with_transition_risk</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4,672 × 50</span></span></span>
<span><span class="co">#&gt;        X company_name        main_activity address company_city postcode country</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>     1 fleischerei stiefs… manufacturer… linzer… prinzersdorf     <span style="text-decoration: underline;">3</span>385 austria</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>     1 fleischerei stiefs… manufacturer… linzer… prinzersdorf     <span style="text-decoration: underline;">3</span>385 austria</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>     1 fleischerei stiefs… manufacturer… linzer… prinzersdorf     <span style="text-decoration: underline;">3</span>385 austria</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>     1 fleischerei stiefs… manufacturer… linzer… prinzersdorf     <span style="text-decoration: underline;">3</span>385 austria</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>     1 fleischerei stiefs… manufacturer… linzer… prinzersdorf     <span style="text-decoration: underline;">3</span>385 austria</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>     1 fleischerei stiefs… manufacturer… linzer… prinzersdorf     <span style="text-decoration: underline;">3</span>385 austria</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>     1 fleischerei stiefs… manufacturer… linzer… prinzersdorf     <span style="text-decoration: underline;">3</span>385 austria</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>     1 fleischerei stiefs… manufacturer… linzer… prinzersdorf     <span style="text-decoration: underline;">3</span>385 austria</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>     1 fleischerei stiefs… manufacturer… linzer… prinzersdorf     <span style="text-decoration: underline;">3</span>385 austria</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>     1 fleischerei stiefs… manufacturer… linzer… prinzersdorf     <span style="text-decoration: underline;">3</span>385 austria</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 4,662 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 43 more variables: clustered &lt;chr&gt;, clustered_unit_ecoinvent &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ecoinvent &lt;chr&gt;, group &lt;chr&gt;, sector &lt;chr&gt;, subsector &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   sector_ecoinvent_delimited &lt;chr&gt;, sector_ecoinvent &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   co2_products &lt;dbl&gt;, co2_input_1 &lt;dbl&gt;, co2_input_2 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   co2_input_3 &lt;dbl&gt;, companies_id &lt;chr&gt;, products_companies_id &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   products_id &lt;chr&gt;, delimited_products_id &lt;chr&gt;, delimited_id &lt;chr&gt;, …</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="step-4-aggregating-on-the-company-level">Step 4: Aggregating on the company-level<a class="anchor" aria-label="anchor" href="#step-4-aggregating-on-the-company-level"></a>
</h3>
<p>To derive a company-level indicator for a company that has more than
one input product in its portfolio, it is necessary to aggregate the
Input product sector transition Risk Indicator of each product into one
indicator. The proposed method for that is to assume the same weights
for each input product.</p>
<p>Here are the calculation rules:</p>
<ul>
<li><p>High Sector Transition Risk Input Products (in %) = ∑ of all high
sector transition risk input products / ∑ of all inputs</p></li>
<li><p>Medium Sector Transition Risk Input Products (in %) = ∑ of all
medium sector transition risk products / ∑ of all inputs</p></li>
<li><p>Low Sector Transition Risk Input Products (in %) = ∑ of all low
sector transition risk products / ∑ of all inputs</p></li>
<li><p>No Sector Transition Risk Input Products (in %) = ∑ of all no
sector transition risk products / ∑ of all inputs</p></li>
</ul>
<p>Here numbers of input products per companies is calculated in a new
column, and join the data frame to have the data with the numbers of
products that a company produces.</p>
<p>Then, the score aggregated is calculated by summing (per transition
risk) the products over the total numbers of products per company.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">with_score_aggregated</span> <span class="op">&lt;-</span> <span class="va">with_transition_risk</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/istr_aggregate_scores.html">istr_aggregate_scores</a></span><span class="op">(</span><span class="va">istr_companies</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Returning more (or less) than 1 row per `summarise()` group was deprecated in</span></span>
<span><span class="co">#&gt; dplyr 1.1.0.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Please use `reframe()` instead.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> When switching from `summarise()` to `reframe()`, remember that `reframe()`</span></span>
<span><span class="co">#&gt;   always returns an ungrouped data frame and adjust accordingly.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> The deprecated feature was likely used in the <span style="color: #0000BB;">tiltIndicator</span> package.</span></span>
<span><span class="co">#&gt;   Please report the issue at</span></span>
<span><span class="co">#&gt;   <span style="color: #0000BB; font-style: italic;">&lt;https://github.com/2DegreesInvesting/tiltIndicator/issues&gt;</span>.</span></span>
<span><span class="co">#&gt; <span style="color: #555555;">This warning is displayed once every 8 hours.</span></span></span>
<span><span class="co">#&gt; <span style="color: #555555;">Call `lifecycle::last_lifecycle_warnings()` to see where this warning was</span></span></span>
<span><span class="co">#&gt; <span style="color: #555555;">generated.</span></span></span>
<span><span class="va">with_score_aggregated</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 16 × 5</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Groups:   company_name, transition_risk, scenario, year [16]</span></span></span>
<span><span class="co">#&gt;    company_name          transition_risk scenario          year score_aggregated</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> fleischerei stiefsohn high            Net Zero Emissi…  <span style="text-decoration: underline;">2</span>040           16.0  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> fleischerei stiefsohn high            Net Zero Emissi…  <span style="text-decoration: underline;">2</span>050           98.9  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> fleischerei stiefsohn low             Stated Policies…  <span style="text-decoration: underline;">2</span>020           98.9  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> fleischerei stiefsohn medium          Net Zero Emissi…  <span style="text-decoration: underline;">2</span>030           98.9  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> fleischerei stiefsohn medium          Net Zero Emissi…  <span style="text-decoration: underline;">2</span>040           82.8  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> fleischerei stiefsohn no_sector       <span style="color: #BB0000;">NA</span>                  <span style="color: #BB0000;">NA</span>            1.15 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> hoche butter gmbh     high            Net Zero Emissi…  <span style="text-decoration: underline;">2</span>040           12.1  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> hoche butter gmbh     high            Net Zero Emissi…  <span style="text-decoration: underline;">2</span>050          100    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> hoche butter gmbh     low             Stated Policies…  <span style="text-decoration: underline;">2</span>020          100    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> hoche butter gmbh     medium          Net Zero Emissi…  <span style="text-decoration: underline;">2</span>030          100    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> hoche butter gmbh     medium          Net Zero Emissi…  <span style="text-decoration: underline;">2</span>040           87.9  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> pecheries basques     high            Net Zero Emissi…  <span style="text-decoration: underline;">2</span>050           99.6  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> pecheries basques     low             Stated Policies…  <span style="text-decoration: underline;">2</span>020           99.6  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> pecheries basques     medium          Net Zero Emissi…  <span style="text-decoration: underline;">2</span>030           99.6  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> pecheries basques     medium          Net Zero Emissi…  <span style="text-decoration: underline;">2</span>040           99.6  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> pecheries basques     no_sector       <span style="color: #BB0000;">NA</span>                  <span style="color: #BB0000;">NA</span>            0.375</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Mauro Lepore, Tilman Trompke, Linda Delacombaz, Kalash Singhal, Lyanne Ho, 2 Degrees Investing Initiative.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
