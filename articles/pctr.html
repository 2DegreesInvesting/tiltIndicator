<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="tiltIndicator">
<title>Product carbon transition risk (pctr) • tiltIndicator</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Product carbon transition risk (pctr)">
<meta property="og:description" content="tiltIndicator">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tiltIndicator</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9012</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/indicator-docs.html">Please help me document your indicator</a>
    <a class="dropdown-item" href="../articles/pctr.html">Product carbon transition risk (pctr)</a>
    <a class="dropdown-item" href="../articles/pstr.html">Product sector transition risk (pstr)</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/2DegreesInvesting/tiltIndicator/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Product carbon transition risk (pctr)</h1>
                        <h4 data-toc-skip class="author">Tilman
Trompke</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/2DegreesInvesting/tiltIndicator/blob/HEAD/vignettes/articles/pctr.Rmd" class="external-link"><code>vignettes/articles/pctr.Rmd</code></a></small>
      <div class="d-none name"><code>pctr.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h2>
<p>The tiltIndicator package comes with example datasets for the PCTR
indicator.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span>, warn.conflicts <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/2DegreesInvesting/tiltIndicator" class="external-link">tiltIndicator</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">ecoinvent_co2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">pctr_ecoinvent_co2</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 25</span></span>
<span><span class="co">#&gt; Columns: 9</span></span>
<span><span class="co">#&gt; $ activity_product_uuid <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "0a242b09-772a-5edf-8e82-9cb4ba52a258_ae39ee61-d…</span></span>
<span><span class="co">#&gt; $ ei_activity           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "transport, freight, lorry 7.5-16 metric ton, EU…</span></span>
<span><span class="co">#&gt; $ geo                   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "RoW", "GLO", "RER", "GLO", "GLO", "RER", "RoW",…</span></span>
<span><span class="co">#&gt; $ sec                   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Transport", "Waste Treatment &amp; Recycling", "Tra…</span></span>
<span><span class="co">#&gt; $ isic_class            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "4923:Freight transport by road", "3822:Treatmen…</span></span>
<span><span class="co">#&gt; $ ref_prod              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "transport, freight, lorry 7.5-16 metric ton, EU…</span></span>
<span><span class="co">#&gt; $ unit                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "metric ton*km", "kg", "metric ton*km", "kg", "m…</span></span>
<span><span class="co">#&gt; $ co2_footprint         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 4.332158, 3.944488, 6.256538, 6.988420, 7.834485…</span></span>
<span><span class="co">#&gt; $ emissions_unit        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "per product unit", "per product unit", "per pro…</span></span>
<span></span>
<span><span class="va">companies</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">pctr_companies</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 25</span></span>
<span><span class="co">#&gt; Columns: 6</span></span>
<span><span class="co">#&gt; $ company_id            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "powerstartmanufacturinggmbh_0000000546010082730…</span></span>
<span><span class="co">#&gt; $ company_name          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "powerstart_manufacturing_gmbh", "powerstart_man…</span></span>
<span><span class="co">#&gt; $ ep_product            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "mining_and_quarrying_machinery_and_equipment", …</span></span>
<span><span class="co">#&gt; $ activity_product_uuid <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "0a242b09-772a-5edf-8e82-9cb4ba52a258_ae39ee61-d…</span></span>
<span><span class="co">#&gt; $ ei_activity           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "transport, freight, lorry 7.5-16 metric ton, EU…</span></span>
<span><span class="co">#&gt; $ unit                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "metric ton*km", "kg", "metric ton*km", "kg", "m…</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="analysis">Analysis<a class="anchor" aria-label="anchor" href="#analysis"></a>
</h2>
<div class="section level3">
<h3 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h3>
<p>The Product Carbon Transition Risk measures the transition risk on
the product-level of a company. The indicator is expressed in the
percentage of all products that are at high risk, medium risk or low
risk due to the products’ relative carbon footprint. The assessment is
first performed on a product-level and can then be aggregated to the
company-level.</p>
<p>The Product Carbon Transition Risk measures the relative carbon
footprint per product. As a default option each product will be compared
to the carbon footprint of every other product. Alternatively, users can
also choose to compare those products of the same type, so e.g.,
comparing only raw materials with each other. Products with a higher
carbon-footprint will also face a higher risk.</p>
<p>After identifying each carbon footprint for one product, the products
will be ranked according to their carbon footprint. Products in the
highest percentile (≥70%) will be classified as high transition risk
products. Products in the medium percentile (between ≥30% and &lt;70%)
will be classified as medium transition risk products. Products in the
lowest percentile (&lt;30%) will be classified as low transition risk
products.</p>
<p>After categorisation, we will aggregate all products from the same
category and set them in relation to all products that the company
produces. We derive the Product Carbon Transition Risks.</p>
<p>Please note that carbon footprints, and emissions are used
equivalently. Carbon footprint refers only on the emissions which occur
at the production stage of the product and not the emissions from the
inputs. The unit is CO2e in kg.</p>
<p>The goal of the transition risk MVP is to create a first draft of how
the transition risk indicator for products would be build in code in
order to convert it into code production easily in the future. This MVP
should provide the share of products with “low”, “medium”, or “high”
relative production emissions per company.</p>
<p>In this markdown file the aim is to prepare data so that they contain
the following:</p>
<ul>
<li>a column with production emissions</li>
<li>a column indicating the percentile relative to (i) all products with
same unit (ii) products in same sector (iii) products in same
segment</li>
<li>a column indicating whether the product has “low”, “medium” or
“high” relative production emissions</li>
</ul>
<p>The product carbon transition risk indicator consists of 2 main
steps:</p>
<ol style="list-style-type: decimal">
<li>Score activities.</li>
<li>Score companies.</li>
</ol>
</div>
<div class="section level3">
<h3 id="score-activities">Score activities<a class="anchor" aria-label="anchor" href="#score-activities"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">scored_activities</span> <span class="op">&lt;-</span> <span class="va">ecoinvent_co2</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">pctr_score_activities</span><span class="op">(</span>low_threshold <span class="op">=</span> <span class="fl">0.3</span>, high_threshold <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span></span></code></pre></div>
<p>Show distributions.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/barplot.html" class="external-link">barplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/proportions.html" class="external-link">prop.table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">scored_activities</span><span class="op">$</span><span class="va">score_all</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="pctr_files/figure-html/unnamed-chunk-7-1.png" width="60%"></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/barplot.html" class="external-link">barplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/proportions.html" class="external-link">prop.table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">scored_activities</span><span class="op">$</span><span class="va">score_unit</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="pctr_files/figure-html/unnamed-chunk-7-2.png" width="60%"></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/barplot.html" class="external-link">barplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/proportions.html" class="external-link">prop.table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">scored_activities</span><span class="op">$</span><span class="va">score_unit_sec</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="pctr_files/figure-html/unnamed-chunk-7-3.png" width="60%"></p>
</div>
<div class="section level3">
<h3 id="score-companies">Score companies<a class="anchor" aria-label="anchor" href="#score-companies"></a>
</h3>
<p>The final dataset should have three rows per company, i.e. one for
each risk_group (low, medium, high) and one column each indicating the
share of products in the respective risk groups for the three different
benchmarks (all products, products with same unit, products with same
unit and sector).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">scored_companies</span> <span class="op">&lt;-</span> <span class="fu">pctr_score_companies</span><span class="op">(</span><span class="va">scored_activities</span>, <span class="va">companies</span><span class="op">)</span></span>
<span><span class="co">#&gt; `summarise()` has grouped output by 'company_id'. You can override using the</span></span>
<span><span class="co">#&gt; `.groups` argument.</span></span>
<span><span class="co">#&gt; `summarise()` has grouped output by 'company_id'. You can override using the</span></span>
<span><span class="co">#&gt; `.groups` argument.</span></span>
<span><span class="co">#&gt; `summarise()` has grouped output by 'company_id'. You can override using the</span></span>
<span><span class="co">#&gt; `.groups` argument.</span></span>
<span></span>
<span><span class="va">scored_companies</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 9 × 5</span></span></span>
<span><span class="co">#&gt;   company_id                           score share_all share_unit share_unit_sec</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> powerstartmanufacturinggmbh_0000000… high       0.25      0.5           0.5   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> powerstartmanufacturinggmbh_0000000… medi…      0.25      0.25          0.25  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> powerstartmanufacturinggmbh_0000000… low        0.5       0.25          0.25  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> ebtor_00000005324899621837001        high       0.6       0.6           0.8   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> ebtor_00000005324899621837001        medi…      0.2       0.4           0.2   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> ebtor_00000005324899621837001        low        0.2       0             0     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> mbdgmbh_00000004773428001            high       0.25      0.438         0.688 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span> mbdgmbh_00000004773428001            medi…      0.5       0.375         0.25  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">9</span> mbdgmbh_00000004773428001            low        0.25      0.188         0.062<span style="text-decoration: underline;">5</span></span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Mauro Lepore, Tilman Trompke, Linda Delacombaz, 2 Degrees Investing Initiative.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
