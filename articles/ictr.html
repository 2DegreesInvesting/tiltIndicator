<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="tiltIndicator">
<title>Input carbon transition risk (ICTR) • tiltIndicator</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Input carbon transition risk (ICTR)">
<meta property="og:description" content="tiltIndicator">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tiltIndicator</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9020</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/ictr.html">Input carbon transition risk (ICTR)</a>
    <a class="dropdown-item" href="../articles/pctr-questions.html">PCTR questions</a>
    <a class="dropdown-item" href="../articles/pctr.html">Product carbon transition risk (PCTR)</a>
    <a class="dropdown-item" href="../articles/pstr.html">Product sector transition risk (PSTR)</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/2DegreesInvesting/tiltIndicator/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Input carbon transition risk (ICTR)</h1>
                        <h4 data-toc-skip class="author">Kalash
Singhal</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/2DegreesInvesting/tiltIndicator/blob/HEAD/vignettes/articles/ictr.Rmd" class="external-link"><code>vignettes/articles/ictr.Rmd</code></a></small>
      <div class="d-none name"><code>ictr.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h2>
<p>Packages.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span>, warn.conflicts <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/2DegreesInvesting/tiltIndicator" class="external-link">tiltIndicator</a></span><span class="op">)</span></span></code></pre></div>
<p>The tiltIndicator package comes with example datasets.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">inputs</span> <span class="op">&lt;-</span> <span class="va">ictr_inputs</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 75</span></span>
<span><span class="co">#&gt; Columns: 10</span></span>
<span><span class="co">#&gt; $ ei_activity           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "transport, freight, lorry 7.5-16 metric ton, EU…</span></span>
<span><span class="co">#&gt; $ activity_product_uuid <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "0a242b09-772a-5edf-8e82-9cb4ba52a258_ae39ee61-d…</span></span>
<span><span class="co">#&gt; $ input_number          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …</span></span>
<span><span class="co">#&gt; $ inputs                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "table ornaments", "hydraulic valve", "calves", …</span></span>
<span><span class="co">#&gt; $ input_co2             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 73.58, 96.00, 39.07, 80.12, 10.72, 25.71, 16.93,…</span></span>
<span><span class="co">#&gt; $ input_sector          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "transport", "infrastructure &amp; machinery", "elec…</span></span>
<span><span class="co">#&gt; $ geo                   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "RoW", "GLO", "RER", "GLO", "GLO", "RER", "RoW",…</span></span>
<span><span class="co">#&gt; $ isic_class            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "4923:Freight transport by road", "3822:Treatmen…</span></span>
<span><span class="co">#&gt; $ ref_prod              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "transport, freight, lorry 7.5-16 metric ton, EU…</span></span>
<span><span class="co">#&gt; $ unit                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "metric ton*km", "kg", "metric ton*km", "kg", "m…</span></span>
<span></span>
<span><span class="va">companies</span> <span class="op">&lt;-</span> <span class="va">ictr_companies</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 25</span></span>
<span><span class="co">#&gt; Columns: 6</span></span>
<span><span class="co">#&gt; $ company_id            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "fleischerei-stiefsohn_00000005219477-001", "fle…</span></span>
<span><span class="co">#&gt; $ company_name          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "fleischerei stiefsohn", "fleischerei stiefsohn"…</span></span>
<span><span class="co">#&gt; $ ep_product            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "shellfish", "crustaceans", "fish", "meat", "off…</span></span>
<span><span class="co">#&gt; $ activity_product_uuid <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "0a242b09-772a-5edf-8e82-9cb4ba52a258_ae39ee61-d…</span></span>
<span><span class="co">#&gt; $ ei_activity           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "transport, freight, lorry 7.5-16 metric ton, EU…</span></span>
<span><span class="co">#&gt; $ unit                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "metric ton*km", "kg", "metric ton*km", "kg", "m…</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The Input Product Carbon Transition Risk Indicator assesses the
transition risk of the input products due to their relative carbon
footprint to other input products. As a default option, each input
product will be compared to the carbon footprint of every other input
product. Alternatively, users can also choose to compare those input
products of the same type, so e.g., comparing only raw materials with
each other. Input products with a higher carbon footprint will also face
a higher risk.</p>
<p>The Input Product Carbon Transition Risk Indicator is therefore
similar to the Product Carbon Transition Risk Indicator, but it focuses
on the input products and not the product of the company. Input products
are, for example, resources, packaging materials, energy and enabling
services (such as tractor use on farm) to produce the product.</p>
<p>After identifying each carbon footprint for one input product, the
input products will be ranked according to their footprint. Input
products in the highest percentile (≥70%) will be classified as high
transition risk input products. Input products in the medium percentile
(between ≥30% and &lt;70%) will be classified as medium transition risk
input products. Products in the lowest percentile (&lt;30%) will be
classified as low transition risk input products.</p>
<p>After assessing the input products transition risk based on its
carbon footprint for each product, they will be aggregated at
company-level. We derive what percentage of the input products are high,
medium and low transition risk.</p>
<p>The goal of the transition risk MVP is to create a first draft of how
the transition risk indicator for inputs would be build in code in order
to convert it into code production easily in the future.</p>
<p>The transition risk indicator consists of 2 broad steps:</p>
<ol style="list-style-type: decimal">
<li>Score input products: Identifying the input products for each
product, and calculating the relative carbon footprint per input
product.</li>
<li>Score companies: Aggregating on the company-level.</li>
</ol>
<p>Sample data set includes inputs and co2 footprints for each product
from Ecoinvent and sectors from Europages. NOTE: the following columns
are a complete random selection and do not reflect the true
information:</p>
<ul>
<li>co2 footprints (not allowed to share licensed data right now)</li>
<li>sectors (as the matching with ecoinvent is not done yet, we do not
have one sector per product yet)</li>
</ul>
</div>
<div class="section level2">
<h2 id="score-input-products">Score input products<a class="anchor" aria-label="anchor" href="#score-input-products"></a>
</h2>
<ul>
<li><p>Calculate the rank of each input product. This is done based on
the input products’ carbon footprints compared to 4 different benchmarks
(all products, products with same unit, products with same sector,
products with same unit and sector)</p></li>
<li><p>Assign scores to the input products. This is done based on their
position within the distribution of co2 footprints in comparison to
different benchmarks.</p></li>
</ul>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ecoinvent_scores</span> <span class="op">&lt;-</span> <span class="va">inputs</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ictr_score_inputs.html">ictr_score_inputs</a></span><span class="op">(</span>low_threshold <span class="op">=</span> <span class="fl">0.3</span>, high_threshold <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ecoinvent_scores</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 75 × 18</span></span></span>
<span><span class="co">#&gt;    ei_activity  activity_product_uuid input_number inputs input_co2 input_sector</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> transport, … 0a242b09-772a-5edf-8…            1 table…      73.6 transport   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> treatment o… be06d25c-73dc-55fb-9…            1 hydra…      96   infrastruct…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> market grou… 977d997e-c257-5033-b…            1 calves      39.1 electricity </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> treatment o… 5fd7fca0-0700-51fd-8…            1 custo…      80.1 infrastruct…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> market for … ebb8475e-ff57-5e4e-9…            1 carri…      10.7 agriculture…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> market for … 2f7b77a7-1556-5c1b-b…            1 equip…      25.7 infrastruct…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> transport, … edd290d2-a5b0-56ec-a…            1 funct…      16.9 infrastruct…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> market for … d2c0844e-6e5b-52a3-8…            1 elect…      55.8 fuels       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> citric acid… abdb78ee-ddb9-5552-9…            1 harbo…      29.1 infrastruct…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> sodium ethy… 16e1dc41-2793-521c-b…            1 paint…      92.7 infrastruct…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 65 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 12 more variables: geo &lt;chr&gt;, isic_class &lt;chr&gt;, ref_prod &lt;chr&gt;, unit &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   perc_all &lt;dbl&gt;, perc_unit &lt;dbl&gt;, perc_sec &lt;dbl&gt;, perc_unit_sec &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   score_all &lt;chr&gt;, score_unit &lt;chr&gt;, score_sector &lt;chr&gt;, score_unit_sec &lt;chr&gt;</span></span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="aggregating-on-the-company-level">Aggregating on the company level<a class="anchor" aria-label="anchor" href="#aggregating-on-the-company-level"></a>
</h2>
<ul>
<li><p>Join dataset <code>companies</code> and
<code>ecoinvent_scores</code>. This is required to combine company-level
information with LCA info from ecoinvent.</p></li>
<li><p>Calculate the scores for each company. This is done by
calculating the share of input products with each score.</p></li>
<li><p>Create final dataset. The final dataset should have three rows
per company, i.e. one for each risk_group (low, medium, high) and one
column each indicating the share of products in the respective risk
groups for the four different benchmarks (all input products, input
products with same unit, input products with same input sector, and
input products with same unit and input sector)</p></li>
</ul>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pctr_output</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ictr_score_companies.html">ictr_score_companies</a></span><span class="op">(</span><span class="va">ecoinvent_scores</span>, <span class="va">companies</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pctr_output</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 15 × 6</span></span></span>
<span><span class="co">#&gt;    company_id             score share_all share_unit share_sector share_unit_sec</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> fleischerei-stiefsohn… high      0.286      0.333        0.333         0.476 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> fleischerei-stiefsohn… medi…     0.381      0.476        0.429         0.429 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> fleischerei-stiefsohn… low       0.333      0.190        0.238         0.095<span style="text-decoration: underline;">2</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> pecheries-basques_fra… high      0.333      0.333        0.556         0.556 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> pecheries-basques_fra… medi…     0.556      0.556        0.333         0.222 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> pecheries-basques_fra… low       0.111      0.111        0.111         0.222 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> hoche-butter-gmbh_deu… high      0          0            0             0     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> hoche-butter-gmbh_deu… medi…     0.667      0.667        0.667         0.667 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> hoche-butter-gmbh_deu… low       0.333      0.333        0.333         0.333 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> vicquelin-espaces-ver… high      0.111      0.222        0.111         0.222 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> vicquelin-espaces-ver… medi…     0.444      0.444        0.556         0.667 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> vicquelin-espaces-ver… low       0.444      0.333        0.333         0.111 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> bst-procontrol-gmbh_0… high      0.394      0.364        0.455         0.515 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> bst-procontrol-gmbh_0… medi…     0.333      0.424        0.333         0.333 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> bst-procontrol-gmbh_0… low       0.273      0.212        0.212         0.152</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Mauro Lepore, Tilman Trompke, Linda Delacombaz, Kalash Singhal, 2 Degrees Investing Initiative.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
