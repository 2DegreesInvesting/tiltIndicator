<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="tiltIndicator">
<title>Product sector transition risk (PSTR) • tiltIndicator</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Product sector transition risk (PSTR)">
<meta property="og:description" content="tiltIndicator">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tiltIndicator</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9018</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/ictr.html">Input carbon transition risk (ICTR)</a>
    <a class="dropdown-item" href="../articles/pctr.html">Product carbon transition risk (PCTR)</a>
    <a class="dropdown-item" href="../articles/pstr.html">Product sector transition risk (PSTR)</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/2DegreesInvesting/tiltIndicator/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Product sector transition risk (PSTR)</h1>
                        <h4 data-toc-skip class="author">Linda
Delacombaz</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/2DegreesInvesting/tiltIndicator/blob/HEAD/vignettes/articles/pstr.Rmd" class="external-link"><code>vignettes/articles/pstr.Rmd</code></a></small>
      <div class="d-none name"><code>pstr.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h2>
<p>Packages</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span>, warn.conflicts <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span>, warn.conflicts <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/2DegreesInvesting/tiltIndicator" class="external-link">tiltIndicator</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="data">Data<a class="anchor" aria-label="anchor" href="#data"></a>
</h2>
<p>The tiltIndicator package comes with example datasets (<a href="https://2degreesinvesting.github.io/tiltIndicator/reference/">reference</a>).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">pstr_companies</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 10</span></span>
<span><span class="co">#&gt; Columns: 5</span></span>
<span><span class="co">#&gt; $ company_id   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10</span></span>
<span><span class="co">#&gt; $ company_name <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Peasant Peter", "Peasant Peter", "Peasant Peter", "Peasa…</span></span>
<span><span class="co">#&gt; $ products     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "screws", "aluminium_alloy", "ultrafilstration", "frozen_…</span></span>
<span><span class="co">#&gt; $ sector       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "steel_metal_transformation", "steel_metals", "cars", "fr…</span></span>
<span><span class="co">#&gt; $ subsector    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "bending_steels_and_metals", "aluminium_alloys", "vehicle…</span></span>
<span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">pstr_ep_weo</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 133</span></span>
<span><span class="co">#&gt; Columns: 6</span></span>
<span><span class="co">#&gt; $ EP_categories_id   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "d3a7a3c40afd18a7a840942262099f23f65c19a0", "8d926b…</span></span>
<span><span class="co">#&gt; $ EP_group           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "metallurgy_metalworking", "metallurgy_metalworking…</span></span>
<span><span class="co">#&gt; $ EP_sector          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "steel_metal_transformation", "steel_metal_transfor…</span></span>
<span><span class="co">#&gt; $ EP_subsector       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "bending_steels_and_metals", "boilers_stainless_ste…</span></span>
<span><span class="co">#&gt; $ weo_product_mapper <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Total", "Total", "Total", "Total", "Total", "Total…</span></span>
<span><span class="co">#&gt; $ weo_flow_mapper    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Iron and steel", "Iron and steel", "Iron and steel…</span></span>
<span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">pstr_weo_2022</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 8</span></span>
<span><span class="co">#&gt; Columns: 10</span></span>
<span><span class="co">#&gt; $ publication <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "World Energy Outlook 2021", "World Energy Outlook 2021", …</span></span>
<span><span class="co">#&gt; $ scenario    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Stated Policies Scenario", "Net Zero Emissions by 2050 Sc…</span></span>
<span><span class="co">#&gt; $ region      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "world", "world", "world", "world", "world", "world", "wor…</span></span>
<span><span class="co">#&gt; $ category    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "co2 combustion", "co2 combustion", "co2 combustion", "co2…</span></span>
<span><span class="co">#&gt; $ product     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Total", "Total", "Total", "Total", "Total", "Total", "Tot…</span></span>
<span><span class="co">#&gt; $ flow        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Road passenger light duty vehicle", "Road passenger light…</span></span>
<span><span class="co">#&gt; $ unit        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "mt co2", "mt co2", "mt co2", "mt co2", "mt co2", "mt co2"…</span></span>
<span><span class="co">#&gt; $ year        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2020, 2030, 2040, 2050, 2020, 2030, 2040, 2050</span></span>
<span><span class="co">#&gt; $ value       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2787.63, 1626.32, 546.54, 84.56, 2590.57, 194.53, 10122.90…</span></span>
<span><span class="co">#&gt; $ reductions  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0.00, 41.66, 80.39, 96.97, 0.00, 31.35, 66.86, 91.49</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="analysis">Analysis<a class="anchor" aria-label="anchor" href="#analysis"></a>
</h2>
<div class="section level3">
<h3 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h3>
<p>The Product Sector Transition Risk Indicator measures the transition
risk of products based on the sector’s emissions targets the product
belongs to. Those sector emission reduction targets vary across
scenarios (e.g., net zero scenario or 1.5° scenario) and the time
horizon (e.g., reduction needed in 2030, 2040, 2050 to achieve the
targets).</p>
<p>After assessing each product, all the products with the same category
will be aggregated and set in relation to all products of the company.
We, therefore, derive company-level information.</p>
<p>The goal of the transition risk MVP is to create a first draft of how
the transition risk indicator would be build in code in order to convert
it into code production easily in the future.</p>
<p>The transition risk indicator consists of 4 main steps:</p>
<ul>
<li>Step 1: Matching the products to the sectors</li>
<li>Step 2: Identifying sector-specific emission reduction targets</li>
<li>Step 3: Categorizing sector emission reduction targets into high,
medium, and low product sector transition risk</li>
<li>Step 4: Aggregating on the company-level</li>
</ul>
</div>
<div class="section level3">
<h3 id="step-1-and-2">Step 1 and 2<a class="anchor" aria-label="anchor" href="#step-1-and-2"></a>
</h3>
<ol style="list-style-type: decimal">
<li>Matching the products to the sectors</li>
<li>Identifying sector-specific emission reduction targets</li>
</ol>
<p>Each product of the company will be matched to a climate-relevant
sector. For those that cannot be matched to one of the sectors, we
classify them as ‘Other’.</p>
<p>We join this on the sectors and subsectors columns.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">with_reductions</span> <span class="op">&lt;-</span> <span class="va">pstr_companies</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/pstr_add_reductions.html">pstr_add_reductions</a></span><span class="op">(</span><span class="va">pstr_ep_weo</span>, <span class="va">pstr_weo_2022</span><span class="op">)</span></span>
<span></span>
<span><span class="va">with_reductions</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 37 × 17</span></span></span>
<span><span class="co">#&gt;    company_id company_name  products  sector subsector EP_categories_id EP_group</span></span>
<span><span class="co">#&gt;         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>          1 Peasant Peter screws    steel… bending_… d3a7a3c40afd18a… metallu…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>          1 Peasant Peter screws    steel… bending_… d3a7a3c40afd18a… metallu…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>          1 Peasant Peter screws    steel… bending_… d3a7a3c40afd18a… metallu…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>          1 Peasant Peter screws    steel… bending_… d3a7a3c40afd18a… metallu…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>          2 Peasant Peter aluminiu… steel… aluminiu… cff53720714f146… metallu…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>          2 Peasant Peter aluminiu… steel… aluminiu… cff53720714f146… metallu…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>          2 Peasant Peter aluminiu… steel… aluminiu… cff53720714f146… metallu…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>          2 Peasant Peter aluminiu… steel… aluminiu… cff53720714f146… metallu…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>          3 Peasant Peter ultrafil… cars   vehicle_… 9518ae57fc6be29… vehicle…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>          3 Peasant Peter ultrafil… cars   vehicle_… 9518ae57fc6be29… vehicle…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 27 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 10 more variables: weo_product_mapper &lt;chr&gt;, weo_flow_mapper &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   publication &lt;chr&gt;, scenario &lt;chr&gt;, region &lt;chr&gt;, category &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   unit &lt;chr&gt;, year &lt;dbl&gt;, value &lt;dbl&gt;, reductions &lt;dbl&gt;</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="step-3-categorizing-sector-emission-reduction-targets-into-high-medium-and-low-product-sector-transition-risk">Step 3: Categorizing sector emission reduction targets into high,
medium, and low product sector transition risk<a class="anchor" aria-label="anchor" href="#step-3-categorizing-sector-emission-reduction-targets-into-high-medium-and-low-product-sector-transition-risk"></a>
</h3>
<p>Let us categorize the transition risk into low, medium and high risk,
based on the value of the reductions.</p>
<ul>
<li><p>reductions ≤ 30% means low product sector transition
risk.</p></li>
<li><p>30% &lt; reductions ≤ 70% means medium product sector transition
risk.</p></li>
<li><p>reductions &gt; 70% means high product sector transition
risk.</p></li>
</ul>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">with_transition_risk</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pstr_add_transition_risk.html">pstr_add_transition_risk</a></span><span class="op">(</span><span class="va">with_reductions</span><span class="op">)</span></span>
<span></span>
<span><span class="va">with_transition_risk</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 37 × 18</span></span></span>
<span><span class="co">#&gt;    company_id company_name  products  sector subsector EP_categories_id EP_group</span></span>
<span><span class="co">#&gt;         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>          1 Peasant Peter screws    steel… bending_… d3a7a3c40afd18a… metallu…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>          1 Peasant Peter screws    steel… bending_… d3a7a3c40afd18a… metallu…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>          1 Peasant Peter screws    steel… bending_… d3a7a3c40afd18a… metallu…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>          1 Peasant Peter screws    steel… bending_… d3a7a3c40afd18a… metallu…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>          2 Peasant Peter aluminiu… steel… aluminiu… cff53720714f146… metallu…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>          2 Peasant Peter aluminiu… steel… aluminiu… cff53720714f146… metallu…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>          2 Peasant Peter aluminiu… steel… aluminiu… cff53720714f146… metallu…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>          2 Peasant Peter aluminiu… steel… aluminiu… cff53720714f146… metallu…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>          3 Peasant Peter ultrafil… cars   vehicle_… 9518ae57fc6be29… vehicle…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>          3 Peasant Peter ultrafil… cars   vehicle_… 9518ae57fc6be29… vehicle…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 27 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 11 more variables: weo_product_mapper &lt;chr&gt;, weo_flow_mapper &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   publication &lt;chr&gt;, scenario &lt;chr&gt;, region &lt;chr&gt;, category &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   unit &lt;chr&gt;, year &lt;dbl&gt;, value &lt;dbl&gt;, reductions &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   transition_risk &lt;chr&gt;</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="step-4-aggregating-on-the-company-level">Step 4: Aggregating on the company-level<a class="anchor" aria-label="anchor" href="#step-4-aggregating-on-the-company-level"></a>
</h3>
<p>To derive a company-level indicator for a company that has more than
one product in its portfolio, it is necessary to aggregate the Product
sector transition Risk Indicator of each product into one indicator. The
proposed method for that is to assume the same weights for each
product.</p>
<p>Here are the calculation rules:</p>
<ul>
<li><p>High Sector Transition Risk Products (in %) = ∑ of all high
sector transition risk products / ∑ of all products</p></li>
<li><p>Medium Sector Transition Risk Products (in %) = ∑ of all medium
sector transition risk products / ∑ of all products</p></li>
<li><p>Low Sector Transition Risk Products (in %) = ∑ of all low sector
transition risk products / ∑ of all products</p></li>
<li><p>No Sector Transition Risk Products (in %) = ∑ of all no sector
transition risk products / ∑ of all products</p></li>
</ul>
<p>Here I calculate the numbers of products per companies in a new
column, and join the data frame to have the data with the numbers of
products that a company produces.</p>
<p>Then, I calculate the score aggregated by summing (per transition
risk) the products over the total numbers of products per company.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">with_score_aggregated</span> <span class="op">&lt;-</span> <span class="va">with_transition_risk</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/pstr_aggregate_scores.html">pstr_aggregate_scores</a></span><span class="op">(</span><span class="va">pstr_companies</span><span class="op">)</span></span>
<span></span>
<span><span class="va">with_score_aggregated</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 19 × 5</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Groups:   company_name, transition_risk, scenario, year [19]</span></span></span>
<span><span class="co">#&gt;    company_name       transition_risk scenario             year score_aggregated</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> John Meier's Cars  high            Net Zero Emissions…  <span style="text-decoration: underline;">2</span>040            100  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> John Meier's Cars  high            Net Zero Emissions…  <span style="text-decoration: underline;">2</span>050            100  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> John Meier's Cars  low             Stated Policies Sc…  <span style="text-decoration: underline;">2</span>020            100  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> John Meier's Cars  medium          Net Zero Emissions…  <span style="text-decoration: underline;">2</span>030            100  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Peasant Paul       no_sector       <span style="color: #BB0000;">NA</span>                     <span style="color: #BB0000;">NA</span>            100  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Peasant Peter      high            Net Zero Emissions…  <span style="text-decoration: underline;">2</span>040             33.3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Peasant Peter      high            Net Zero Emissions…  <span style="text-decoration: underline;">2</span>050            100  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Peasant Peter      low             Stated Policies Sc…  <span style="text-decoration: underline;">2</span>020            100  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Peasant Peter      medium          Net Zero Emissions…  <span style="text-decoration: underline;">2</span>030            100  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Peasant Peter      medium          Net Zero Emissions…  <span style="text-decoration: underline;">2</span>040             66.7</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> Screwdriver Expert high            Net Zero Emissions…  <span style="text-decoration: underline;">2</span>050            100  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> Screwdriver Expert low             Stated Policies Sc…  <span style="text-decoration: underline;">2</span>020            100  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> Screwdriver Expert medium          Net Zero Emissions…  <span style="text-decoration: underline;">2</span>030            100  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> Screwdriver Expert medium          Net Zero Emissions…  <span style="text-decoration: underline;">2</span>040            100  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> Tom's Car Company  high            Net Zero Emissions…  <span style="text-decoration: underline;">2</span>040             50  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> Tom's Car Company  high            Net Zero Emissions…  <span style="text-decoration: underline;">2</span>050            100  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">17</span> Tom's Car Company  low             Stated Policies Sc…  <span style="text-decoration: underline;">2</span>020            100  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">18</span> Tom's Car Company  medium          Net Zero Emissions…  <span style="text-decoration: underline;">2</span>030            100  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">19</span> Tom's Car Company  medium          Net Zero Emissions…  <span style="text-decoration: underline;">2</span>040             50</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Mauro Lepore, Tilman Trompke, Linda Delacombaz, Kalash Singhal, 2 Degrees Investing Initiative.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
