[{"path":"https://2degreesinvesting.github.io/tiltIndicator/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to tiltIndicator","title":"Contributing to tiltIndicator","text":"project follows number guides, principles, books. familiar , faster contribution approved. Guides principles: tiltIndicator mvp guide. Tidyverse style guide. Tidyverse design guide. Tidyverse code review principles. Books: Happy Git R. forgot teach R. R data science. Advanced R. R packages.","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 tiltIndicator authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/articles/handling-long-runtime.html","id":"setup","dir":"Articles","previous_headings":"","what":"Setup","title":"Handling a long runtime","text":"","code":"library(dplyr, warn.conflicts = FALSE) library(readr, warn.conflicts = FALSE) library(tidyr, warn.conflicts = FALSE) library(purrr, warn.conflicts = FALSE) library(rappdirs) library(future) library(furrr) library(fs) library(tiltIndicator) library(tiltToyData)  options(readr.show_col_types = FALSE) # Enable computing over multiple workers in parallel plan(multisession)  # Helpers ----  cache_path <- function(..., parent = cache_dir()) {   path(parent, ...) }  cache_dir <- function() {   user_cache_dir(appname = \"tiltIndicator\") }  job_pmap <- function(job, .f) {   job |>     pick_undone() |>     select(data, file) |>     future_pwalk(.f, .progress = TRUE)    map_df(sector_profile_upstream_job$file, read_rds) }  nest_chunk <- function(data, .by, chunks) {   data |>     nest(.by = all_of(.by)) |>     mutate(data, chunk = as.integer(cut(row_number(), chunks))) |>     unnest(data) |>     nest(.by = chunk) }  add_file <- function(data, parent = cache_path(), ext = \".rds\") {   dir_create(parent)   mutate(data, file = path(parent, paste0(chunk, ext))) }  pick_undone <- function(data) {   data |>     add_done() |>     filter(!done) }  add_done <- function(data, file) {   mutate(data, done = file_exists(file)) }"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/articles/handling-long-runtime.html","id":"sector-profile-upstream","dir":"Articles","previous_headings":"","what":"Sector profile upstream","title":"Handling a long runtime","text":"","code":"# TODO: Replace with `read_csv(\"/path/to/input/companies.csv\")` companies <- read_csv(toy_sector_profile_upstream_companies()) # TODO: Replace with `read_csv(\"/path/to/input/scenarios.csv\")` scenarios <- read_csv(toy_sector_profile_any_scenarios()) # TODO: Replace with `read_csv(\"/path/to/input/upstream_products.csv\")` products_upstream <- read_csv(toy_sector_profile_upstream_products())  # Create a \"job\" data frame where each row is a chunk of data sector_profile_upstream_job <- companies |>   nest_chunk(.by = \"company_id\", chunks = 3) |>   add_file(parent = cache_path(\"sector_profile_upstream\"))  # Chunks of data will be distributed across workers and saved to a file sector_profile_upstream_job #> # A tibble: 3 × 3 #>   chunk data             file                                                 #>   <int> <list>           <fs::path>                                           #> 1     1 <tibble [4 × 6]> ~/.cache/tiltIndicator/sector_profile_upstream/1.rds #> 2     2 <tibble [2 × 6]> ~/.cache/tiltIndicator/sector_profile_upstream/2.rds #> 3     3 <tibble [2 × 6]> ~/.cache/tiltIndicator/sector_profile_upstream/3.rds  # Run each indicator chunk across multiple workers and output a combined result sector_profile_upstream_result <- sector_profile_upstream_job |>   job_pmap(\\(data, file) write_rds(sector_profile_upstream(data, scenarios, products_upstream), file))  # TODO: `... |> write_csv(\"/path/to/output/product.csv\")` sector_profile_upstream_result |> unnest_product() #> # A tibble: 704 × 12 #>    companies_id        grouped_by risk_category clustered activity_uuid_produc…¹ #>    <chr>               <chr>      <chr>         <chr>     <chr>                  #>  1 fleischerei-stiefs… weo_state… low           stove     0a242b09-772a-5edf-8e… #>  2 fleischerei-stiefs… weo_state… low           stove     0a242b09-772a-5edf-8e… #>  3 fleischerei-stiefs… weo_state… low           stove     0a242b09-772a-5edf-8e… #>  4 fleischerei-stiefs… weo_state… low           stove     0a242b09-772a-5edf-8e… #>  5 fleischerei-stiefs… weo_annou… low           stove     0a242b09-772a-5edf-8e… #>  6 fleischerei-stiefs… weo_annou… high          stove     0a242b09-772a-5edf-8e… #>  7 fleischerei-stiefs… weo_annou… high          stove     0a242b09-772a-5edf-8e… #>  8 fleischerei-stiefs… weo_annou… high          stove     0a242b09-772a-5edf-8e… #>  9 fleischerei-stiefs… weo_net z… low           stove     0a242b09-772a-5edf-8e… #> 10 fleischerei-stiefs… weo_net z… high          stove     0a242b09-772a-5edf-8e… #> # ℹ 694 more rows #> # ℹ abbreviated name: ¹​activity_uuid_product_uuid #> # ℹ 7 more variables: tilt_sector <chr>, scenario <chr>, year <dbl>, #> #   type <chr>, input_activity_uuid_product_uuid <chr>, #> #   input_tilt_sector <chr>, input_tilt_subsector <chr>  # TODO: `... |> write_csv(\"/path/to/output/company.csv\")` sector_profile_upstream_result |> unnest_company() #> # A tibble: 294 × 4 #>    companies_id                             grouped_by      risk_category  value #>    <chr>                                    <chr>           <chr>          <dbl> #>  1 fleischerei-stiefsohn_00000005219477-001 ipr_1.5c rps_2… high          0.333  #>  2 fleischerei-stiefsohn_00000005219477-001 ipr_1.5c rps_2… medium        0.583  #>  3 fleischerei-stiefsohn_00000005219477-001 ipr_1.5c rps_2… low           0.0833 #>  4 fleischerei-stiefsohn_00000005219477-001 ipr_1.5c rps_2… high          1      #>  5 fleischerei-stiefsohn_00000005219477-001 ipr_1.5c rps_2… medium        0      #>  6 fleischerei-stiefsohn_00000005219477-001 ipr_1.5c rps_2… low           0      #>  7 fleischerei-stiefsohn_00000005219477-001 weo_announced … high          0      #>  8 fleischerei-stiefsohn_00000005219477-001 weo_announced … medium        0      #>  9 fleischerei-stiefsohn_00000005219477-001 weo_announced … low           1      #> 10 fleischerei-stiefsohn_00000005219477-001 weo_announced … high          0.0769 #> # ℹ 284 more rows  # Each chunk result was saved to a file dir_tree(cache_path(\"sector_profile_upstream\")) #> ~/.cache/tiltIndicator/sector_profile_upstream #> ├── 1.rds #> ├── 2.rds #> └── 3.rds"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/articles/handling-long-runtime.html","id":"emissions-profile","dir":"Articles","previous_headings":"","what":"Emissions profile","title":"Handling a long runtime","text":"Read companies data, define chunks files later save . lot going : Define function runs indicator data (companies) writes file. additional dataset products won’t passed function rather accessed global environment. Skip chunk already saved (previous, incomplete run). Select columns data file match names *_rds(). allows use *_pmap() succinct way. accomplished. Instead saturating memory stored chunk file. can now read saved files . results many may also need batches work multi-file datasets. Typically ’ll finish writing one “*.csv” file results product level, another one results company level. next time run indicator need cleanup.","code":"# TODO: Replace with `read_csv(\"/path/to/input/companies.csv\")` companies <- tiltIndicator::companies #> Warning: `companies` was deprecated in tiltIndicator 0.0.0.9089. Please use #> `emissions_profile_any_companies` from tiltToyData.  # TODO: Experiment to find the number of chunks that works best for you emissions_profile_job <- companies |>   nest_chunk(.by = \"company_id\", chunks = 3) |>   add_file(parent = cache_path(\"emissions_profile\"))  # `nest_chunk()` ensures all rows of a company fall in the same chunk slice(emissions_profile_job, 1) |> unnest(data) #> # A tibble: 4 × 6 #>   chunk company_id             activity_uuid_produc…¹ clustered unit  file       #>   <int> <chr>                  <chr>                  <chr>     <chr> <fs::path> #> 1     1 fleischerei-stiefsohn… 0a242b09-772a-5edf-8e… stove     unit  …ile/1.rds #> 2     1 fleischerei-stiefsohn… be06d25c-73dc-55fb-96… oven      unit  …ile/1.rds #> 3     1 pecheries-basques_fra… 977d997e-c257-5033-ba… steel     kg    …ile/1.rds #> 4     1 hoche-butter-gmbh_deu… ebb8475e-ff57-5e4e-93… aged che… kg    …ile/1.rds #> # ℹ abbreviated name: ¹​activity_uuid_product_uuid  slice(emissions_profile_job, 2) |> unnest(data) #> # A tibble: 2 × 6 #>   chunk company_id             activity_uuid_produc…¹ clustered unit  file       #>   <int> <chr>                  <chr>                  <chr>     <chr> <fs::path> #> 1     2 vicquelin-espaces-ver… ebb8475e-ff57-5e4e-93… aged che… kg    …ile/2.rds #> 2     2 bst-procontrol-gmbh_0… ebb8475e-ff57-5e4e-93… cheese    kg    …ile/2.rds #> # ℹ abbreviated name: ¹​activity_uuid_product_uuid # TODO: Replace with `read_csv(\"/path/to/input/products.csv\")` products <- tiltIndicator::products #> Warning: `products` was deprecated in tiltIndicator 0.0.0.9089. Please use #> `emissions_profile_products` from tiltToyData.  emissions_profile_rds <- function(data, file) write_rds(emissions_profile(data, products), file)  emissions_profile_job |>   # Skip what's already done (if anything)   pick_undone() |>   # `select(data, file)` matches `emissions_profile_rds(data, file)` to use `*_pwalk()`   select(data, file) |>   # Combined with `plan()` it distributes computations across multiple workers   # The progress bar won't appear in this .Rmd document.   future_pwalk(emissions_profile_rds, .progress = TRUE) dir_tree(cache_path(\"emissions_profile\")) #> ~/.cache/tiltIndicator/emissions_profile #> ├── 1.rds #> ├── 2.rds #> └── 3.rds emissions_profile_result <- map_df(emissions_profile_job$file, read_rds) emissions_profile_result #> # A tibble: 8 × 3 #>   companies_id                             product           company           #>   <chr>                                    <list>            <list>            #> 1 fleischerei-stiefsohn_00000005219477-001 <tibble [12 × 5]> <tibble [18 × 3]> #> 2 pecheries-basques_fra316541-00101        <tibble [6 × 5]>  <tibble [18 × 3]> #> 3 hoche-butter-gmbh_deu422723-693847001    <tibble [6 × 5]>  <tibble [18 × 3]> #> 4 vicquelin-espaces-verts_fra697272-00101  <tibble [6 × 5]>  <tibble [18 × 3]> #> 5 bst-procontrol-gmbh_00000005104947-001   <tibble [6 × 5]>  <tibble [18 × 3]> #> 6 leider-gmbh_00000005064318-001           <tibble [6 × 5]>  <tibble [18 × 3]> #> 7 cheries-baqu_neu316541-00101             <tibble [6 × 5]>  <tibble [18 × 3]> #> 8 ca-coity-trg-aua-gmbh_00000384-001       <tibble [1 × 5]>  <tibble [3 × 3]> # TODO: `... |> write_csv(\"/path/to/output/product.csv\")` emissions_profile_result |> unnest_product() #> # A tibble: 49 × 6 #>    companies_id        grouped_by risk_category clustered activity_uuid_produc…¹ #>    <chr>               <chr>      <chr>         <chr>     <chr>                  #>  1 fleischerei-stiefs… all        high          stove     0a242b09-772a-5edf-8e… #>  2 fleischerei-stiefs… isic_sec   high          stove     0a242b09-772a-5edf-8e… #>  3 fleischerei-stiefs… tilt_sec   high          stove     0a242b09-772a-5edf-8e… #>  4 fleischerei-stiefs… unit       high          stove     0a242b09-772a-5edf-8e… #>  5 fleischerei-stiefs… unit_isic… high          stove     0a242b09-772a-5edf-8e… #>  6 fleischerei-stiefs… unit_tilt… high          stove     0a242b09-772a-5edf-8e… #>  7 fleischerei-stiefs… all        high          oven      be06d25c-73dc-55fb-96… #>  8 fleischerei-stiefs… isic_sec   medium        oven      be06d25c-73dc-55fb-96… #>  9 fleischerei-stiefs… tilt_sec   medium        oven      be06d25c-73dc-55fb-96… #> 10 fleischerei-stiefs… unit       medium        oven      be06d25c-73dc-55fb-96… #> # ℹ 39 more rows #> # ℹ abbreviated name: ¹​activity_uuid_product_uuid #> # ℹ 1 more variable: co2_footprint <dbl>  # TODO: `... |> write_csv(\"/path/to/output/company.csv\")` emissions_profile_result |> unnest_company() #> # A tibble: 129 × 4 #>    companies_id                             grouped_by risk_category value #>    <chr>                                    <chr>      <chr>         <dbl> #>  1 fleischerei-stiefsohn_00000005219477-001 all        high            1   #>  2 fleischerei-stiefsohn_00000005219477-001 all        medium          0   #>  3 fleischerei-stiefsohn_00000005219477-001 all        low             0   #>  4 fleischerei-stiefsohn_00000005219477-001 isic_sec   high            0.5 #>  5 fleischerei-stiefsohn_00000005219477-001 isic_sec   medium          0.5 #>  6 fleischerei-stiefsohn_00000005219477-001 isic_sec   low             0   #>  7 fleischerei-stiefsohn_00000005219477-001 tilt_sec   high            0.5 #>  8 fleischerei-stiefsohn_00000005219477-001 tilt_sec   medium          0.5 #>  9 fleischerei-stiefsohn_00000005219477-001 tilt_sec   low             0   #> 10 fleischerei-stiefsohn_00000005219477-001 unit       high            0.5 #> # ℹ 119 more rows # WARNING: Deleting the hard-earned .rds files cache_path() |>   dir_ls(recurse = TRUE, type = \"file\") |>   file_delete()"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/articles/handling-long-runtime.html","id":"background-jobs","dir":"Articles","previous_headings":"","what":"Background jobs","title":"Handling a long runtime","text":"may want run background job RStudio can use R session something else process runs background. RStudio may issues. code “~/projects/run.R” may run directly terminal : Rscript ~/projects/run.R. Best remote server, gives stable environment ability briefly rent computer powerful one .","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/articles/tiltIndicator.html","id":"emissions-profile","dir":"Articles","previous_headings":"","what":"Emissions profile","title":"The tilt indicators","text":"“emissions profile” measures transition risk product-level company. indicator expressed percentage products high risk, medium risk low risk due products’ relative carbon footprint. assessment first performed product-level can aggregated company-level. “emissions profile” measures relative carbon footprint per product. default option product compared carbon footprint every product. Products higher carbon-footprint face higher risk. identifying carbon footprint one product, products ranked according carbon footprint. ranking method explained Thresholds section. categorization, aggregate products category set relation products company produces. derive “emissions profile”. Please note carbon footprints, emissions used equivalently. Carbon footprint refers emissions occur production stage product emissions inputs. unit CO2e kg. indicator provides share products “low”, “medium”, “high” relative production emissions per company. output indicator contains following: column production emissions column indicating percentile relative () products unit products sector (iii) products segment column indicating whether product “low”, “medium” “high” relative production emissions.","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/articles/tiltIndicator.html","id":"emissions-profile-upstream","dir":"Articles","previous_headings":"","what":"Emissions profile upstream","title":"The tilt indicators","text":"indicator “emissions profile upstream” assesses transition risk upstream products due relative carbon footprint upstream products. default option, upstream product compared carbon footprint every upstream product. Upstream products higher carbon footprint face higher risk. company-level, indicator proxies supply chain risk company - based inputs. indicator “emissions profile upstream” therefore similar Product Carbon Transition Risk Indicator, focuses upstream products product company. Upstream products , example, resources, packaging materials, energy enabling services (tractor use farm) produce product. identifying carbon footprint one upstream product, input products ranked according footprint. ranking method explained Thresholds section. assessing upstream products’ transition risk based carbon footprint product, aggregated company-level. derive percentage upstream products high, medium low transition risk. indicator consists 2 broad steps: Score upstream products: Identifying upstream products product, calculating relative carbon footprint per upstream product. Score companies: Aggregating company-level. sample data set includes inputs co2 footprints product Ecoinvent sectors Europages. NOTE: following columns completely random selection reflect true information: co2 footprints (allowed share licensed data right now) sectors (matching ecoinvent done yet, one sector per product yet)","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/articles/tiltIndicator.html","id":"thresholds","dir":"Articles","previous_headings":"","what":"Thresholds","title":"The tilt indicators","text":"Products highest percentile (greater high_threshold) classified high transition risk products. Products medium percentile (greater low_threshold lower equal high_threshold) classified medium transition risk products. Products lowest percentile (lower equal low_threshold) classified low transition risk products. details default low_threshold high_threshold, refer documentation corresponding *_profile_*() function (e.g. sector_profile()).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/articles/tiltIndicator.html","id":"example","dir":"Articles","previous_headings":"","what":"Example","title":"The tilt indicators","text":"Use emissions_profile() emissions_profile_upstream() example datasets come tiltToyData package.","code":"toy_files() #> [1] \"emissions_profile_any_companies.csv.gz\"     #> [2] \"emissions_profile_products.csv.gz\"          #> [3] \"emissions_profile_upstream_products.csv.gz\" #> [4] \"sector_profile_any_scenarios.csv.gz\"        #> [5] \"sector_profile_companies.csv.gz\"            #> [6] \"sector_profile_upstream_companies.csv.gz\"   #> [7] \"sector_profile_upstream_products.csv.gz\" companies <- read_csv(toy_emissions_profile_any_companies()) products <- read_csv(toy_emissions_profile_products()) products_upstream <- read_csv(toy_emissions_profile_upstream_products())  result <- emissions_profile(companies, products) result #> # A tibble: 8 × 3 #>   companies_id                             product           company           #>   <chr>                                    <list>            <list>            #> 1 fleischerei-stiefsohn_00000005219477-001 <tibble [12 × 5]> <tibble [18 × 3]> #> 2 pecheries-basques_fra316541-00101        <tibble [6 × 5]>  <tibble [18 × 3]> #> 3 hoche-butter-gmbh_deu422723-693847001    <tibble [6 × 5]>  <tibble [18 × 3]> #> 4 vicquelin-espaces-verts_fra697272-00101  <tibble [6 × 5]>  <tibble [18 × 3]> #> 5 bst-procontrol-gmbh_00000005104947-001   <tibble [6 × 5]>  <tibble [18 × 3]> #> 6 leider-gmbh_00000005064318-001           <tibble [6 × 5]>  <tibble [18 × 3]> #> 7 cheries-baqu_neu316541-00101             <tibble [6 × 5]>  <tibble [18 × 3]> #> 8 ca-coity-trg-aua-gmbh_00000384-001       <tibble [1 × 5]>  <tibble [3 × 3]>  result |> unnest_product() #> # A tibble: 49 × 6 #>    companies_id        grouped_by risk_category clustered activity_uuid_produc…¹ #>    <chr>               <chr>      <chr>         <chr>     <chr>                  #>  1 fleischerei-stiefs… all        high          stove     0a242b09-772a-5edf-8e… #>  2 fleischerei-stiefs… isic_sec   high          stove     0a242b09-772a-5edf-8e… #>  3 fleischerei-stiefs… tilt_sec   high          stove     0a242b09-772a-5edf-8e… #>  4 fleischerei-stiefs… unit       high          stove     0a242b09-772a-5edf-8e… #>  5 fleischerei-stiefs… unit_isic… high          stove     0a242b09-772a-5edf-8e… #>  6 fleischerei-stiefs… unit_tilt… high          stove     0a242b09-772a-5edf-8e… #>  7 fleischerei-stiefs… all        high          oven      be06d25c-73dc-55fb-96… #>  8 fleischerei-stiefs… isic_sec   medium        oven      be06d25c-73dc-55fb-96… #>  9 fleischerei-stiefs… tilt_sec   medium        oven      be06d25c-73dc-55fb-96… #> 10 fleischerei-stiefs… unit       medium        oven      be06d25c-73dc-55fb-96… #> # ℹ 39 more rows #> # ℹ abbreviated name: ¹​activity_uuid_product_uuid #> # ℹ 1 more variable: co2_footprint <dbl>  result |> unnest_company() #> # A tibble: 129 × 4 #>    companies_id                             grouped_by risk_category value #>    <chr>                                    <chr>      <chr>         <dbl> #>  1 fleischerei-stiefsohn_00000005219477-001 all        high            1   #>  2 fleischerei-stiefsohn_00000005219477-001 all        medium          0   #>  3 fleischerei-stiefsohn_00000005219477-001 all        low             0   #>  4 fleischerei-stiefsohn_00000005219477-001 isic_sec   high            0.5 #>  5 fleischerei-stiefsohn_00000005219477-001 isic_sec   medium          0.5 #>  6 fleischerei-stiefsohn_00000005219477-001 isic_sec   low             0   #>  7 fleischerei-stiefsohn_00000005219477-001 tilt_sec   high            0.5 #>  8 fleischerei-stiefsohn_00000005219477-001 tilt_sec   medium          0.5 #>  9 fleischerei-stiefsohn_00000005219477-001 tilt_sec   low             0   #> 10 fleischerei-stiefsohn_00000005219477-001 unit       high            0.5 #> # ℹ 119 more rows  result_upstream <- emissions_profile_upstream(companies, products_upstream) result_upstream #> # A tibble: 8 × 3 #>   companies_id                             product           company           #>   <chr>                                    <list>            <list>            #> 1 fleischerei-stiefsohn_00000005219477-001 <tibble [84 × 6]> <tibble [18 × 3]> #> 2 pecheries-basques_fra316541-00101        <tibble [36 × 6]> <tibble [18 × 3]> #> 3 hoche-butter-gmbh_deu422723-693847001    <tibble [42 × 6]> <tibble [18 × 3]> #> 4 vicquelin-espaces-verts_fra697272-00101  <tibble [42 × 6]> <tibble [18 × 3]> #> 5 bst-procontrol-gmbh_00000005104947-001   <tibble [42 × 6]> <tibble [18 × 3]> #> 6 leider-gmbh_00000005064318-001           <tibble [36 × 6]> <tibble [18 × 3]> #> 7 cheries-baqu_neu316541-00101             <tibble [36 × 6]> <tibble [18 × 3]> #> 8 ca-coity-trg-aua-gmbh_00000384-001       <tibble [1 × 6]>  <tibble [3 × 3]>  result_upstream |> unnest_product() #> # A tibble: 319 × 7 #>    companies_id        grouped_by risk_category clustered activity_uuid_produc…¹ #>    <chr>               <chr>      <chr>         <chr>     <chr>                  #>  1 fleischerei-stiefs… all        high          stove     0a242b09-772a-5edf-8e… #>  2 fleischerei-stiefs… all        high          stove     0a242b09-772a-5edf-8e… #>  3 fleischerei-stiefs… all        medium        stove     0a242b09-772a-5edf-8e… #>  4 fleischerei-stiefs… all        high          stove     0a242b09-772a-5edf-8e… #>  5 fleischerei-stiefs… all        high          stove     0a242b09-772a-5edf-8e… #>  6 fleischerei-stiefs… all        low           stove     0a242b09-772a-5edf-8e… #>  7 fleischerei-stiefs… all        low           stove     0a242b09-772a-5edf-8e… #>  8 fleischerei-stiefs… all        high          stove     0a242b09-772a-5edf-8e… #>  9 fleischerei-stiefs… isic_sec   high          stove     0a242b09-772a-5edf-8e… #> 10 fleischerei-stiefs… isic_sec   high          stove     0a242b09-772a-5edf-8e… #> # ℹ 309 more rows #> # ℹ abbreviated name: ¹​activity_uuid_product_uuid #> # ℹ 2 more variables: input_activity_uuid_product_uuid <chr>, #> #   input_co2_footprint <dbl>  result_upstream |> unnest_company() #> # A tibble: 129 × 4 #>    companies_id                             grouped_by risk_category value #>    <chr>                                    <chr>      <chr>         <dbl> #>  1 fleischerei-stiefsohn_00000005219477-001 all        high          0.571 #>  2 fleischerei-stiefsohn_00000005219477-001 all        medium        0.214 #>  3 fleischerei-stiefsohn_00000005219477-001 all        low           0.214 #>  4 fleischerei-stiefsohn_00000005219477-001 isic_sec   high          0.357 #>  5 fleischerei-stiefsohn_00000005219477-001 isic_sec   medium        0.357 #>  6 fleischerei-stiefsohn_00000005219477-001 isic_sec   low           0.286 #>  7 fleischerei-stiefsohn_00000005219477-001 tilt_sec   high          0.429 #>  8 fleischerei-stiefsohn_00000005219477-001 tilt_sec   medium        0.357 #>  9 fleischerei-stiefsohn_00000005219477-001 tilt_sec   low           0.214 #> 10 fleischerei-stiefsohn_00000005219477-001 unit       high          0.429 #> # ℹ 119 more rows"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Mauro Lepore. Author, maintainer. Tilman Trompke. Author. Linda Delacombaz. Author. Kalash Singhal. Author. Lyanne Ho. Author. 2 Degrees Investing Initiative. Copyright holder, funder.","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Lepore M, Trompke T, Delacombaz L, Singhal K, Ho L (2023). tiltIndicator: Indicators 'TILT' Project. R package version 0.0.0.9092, https://github.com/2DegreesInvesting/tiltIndicator.","code":"@Manual{,   title = {tiltIndicator: Indicators for the 'TILT' Project},   author = {Mauro Lepore and Tilman Trompke and Linda Delacombaz and Kalash Singhal and Lyanne Ho},   year = {2023},   note = {R package version 0.0.0.9092},   url = {https://github.com/2DegreesInvesting/tiltIndicator}, }"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/index.html","id":"tiltindicator","dir":"","previous_headings":"","what":"Indicators for the TILT Project","title":"Indicators for the TILT Project","text":"goal tiltIndicator help develop TILT indicator. repository hosts public code may show fake data.","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Indicators for the TILT Project","text":"can install development version tiltIndicator GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"2DegreesInvesting/tiltIndicator\")"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Indicators for the TILT Project","text":"","code":"library(tiltIndicator) library(tiltToyData) library(readr) options(readr.show_col_types = FALSE)  toy_files() #> [1] \"emissions_profile_any_companies.csv.gz\"     #> [2] \"emissions_profile_products.csv.gz\"          #> [3] \"emissions_profile_upstream_products.csv.gz\" #> [4] \"sector_profile_any_scenarios.csv.gz\"        #> [5] \"sector_profile_companies.csv.gz\"            #> [6] \"sector_profile_upstream_companies.csv.gz\"   #> [7] \"sector_profile_upstream_products.csv.gz\"  companies <- read_csv(toy_emissions_profile_any_companies()) products <- read_csv(toy_emissions_profile_products())  both <- emissions_profile(companies, products) both #> # A tibble: 8 × 3 #>   companies_id                             product           company           #>   <chr>                                    <list>            <list>            #> 1 fleischerei-stiefsohn_00000005219477-001 <tibble [12 × 5]> <tibble [18 × 3]> #> 2 pecheries-basques_fra316541-00101        <tibble [6 × 5]>  <tibble [18 × 3]> #> 3 hoche-butter-gmbh_deu422723-693847001    <tibble [6 × 5]>  <tibble [18 × 3]> #> 4 vicquelin-espaces-verts_fra697272-00101  <tibble [6 × 5]>  <tibble [18 × 3]> #> 5 bst-procontrol-gmbh_00000005104947-001   <tibble [6 × 5]>  <tibble [18 × 3]> #> 6 leider-gmbh_00000005064318-001           <tibble [6 × 5]>  <tibble [18 × 3]> #> 7 cheries-baqu_neu316541-00101             <tibble [6 × 5]>  <tibble [18 × 3]> #> 8 ca-coity-trg-aua-gmbh_00000384-001       <tibble [1 × 5]>  <tibble [3 × 3]>  both |> unnest_product() #> # A tibble: 49 × 6 #>    companies_id        grouped_by risk_category clustered activity_uuid_produc…¹ #>    <chr>               <chr>      <chr>         <chr>     <chr>                  #>  1 fleischerei-stiefs… all        high          stove     0a242b09-772a-5edf-8e… #>  2 fleischerei-stiefs… isic_sec   high          stove     0a242b09-772a-5edf-8e… #>  3 fleischerei-stiefs… tilt_sec   high          stove     0a242b09-772a-5edf-8e… #>  4 fleischerei-stiefs… unit       high          stove     0a242b09-772a-5edf-8e… #>  5 fleischerei-stiefs… unit_isic… high          stove     0a242b09-772a-5edf-8e… #>  6 fleischerei-stiefs… unit_tilt… high          stove     0a242b09-772a-5edf-8e… #>  7 fleischerei-stiefs… all        high          oven      be06d25c-73dc-55fb-96… #>  8 fleischerei-stiefs… isic_sec   medium        oven      be06d25c-73dc-55fb-96… #>  9 fleischerei-stiefs… tilt_sec   medium        oven      be06d25c-73dc-55fb-96… #> 10 fleischerei-stiefs… unit       medium        oven      be06d25c-73dc-55fb-96… #> # ℹ 39 more rows #> # ℹ abbreviated name: ¹​activity_uuid_product_uuid #> # ℹ 1 more variable: co2_footprint <dbl>  both |> unnest_company() #> # A tibble: 129 × 4 #>    companies_id                             grouped_by risk_category value #>    <chr>                                    <chr>      <chr>         <dbl> #>  1 fleischerei-stiefsohn_00000005219477-001 all        high            1   #>  2 fleischerei-stiefsohn_00000005219477-001 all        medium          0   #>  3 fleischerei-stiefsohn_00000005219477-001 all        low             0   #>  4 fleischerei-stiefsohn_00000005219477-001 isic_sec   high            0.5 #>  5 fleischerei-stiefsohn_00000005219477-001 isic_sec   medium          0.5 #>  6 fleischerei-stiefsohn_00000005219477-001 isic_sec   low             0   #>  7 fleischerei-stiefsohn_00000005219477-001 tilt_sec   high            0.5 #>  8 fleischerei-stiefsohn_00000005219477-001 tilt_sec   medium          0.5 #>  9 fleischerei-stiefsohn_00000005219477-001 tilt_sec   low             0   #> 10 fleischerei-stiefsohn_00000005219477-001 unit       high            0.5 #> # ℹ 119 more rows"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/deprecated.html","id":null,"dir":"Reference","previous_headings":"","what":"Deprecated — deprecated","title":"Deprecated — deprecated","text":"functions form f_at_product_level() f_at_company_level() now deprecated favor higher-level wrappers (see ?tiltIndicator::rename).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/deprecated.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Deprecated — deprecated","text":"","code":"istr_at_product_level(   companies,   scenarios,   inputs,   low_threshold = ifelse(scenarios$year == 2030, 1/9, 1/3),   high_threshold = ifelse(scenarios$year == 2030, 2/9, 2/3) )  pstr_at_product_level(   companies,   scenarios,   low_threshold = ifelse(scenarios$year == 2030, 1/9, 1/3),   high_threshold = ifelse(scenarios$year == 2030, 2/9, 2/3) )  xctr_at_product_level(   companies,   co2,   low_threshold = 1/3,   high_threshold = 2/3 )  istr_at_company_level(data)  pstr_at_company_level(data)  xctr_at_company_level(data)  companies  inputs  products  istr_companies  istr_inputs  pstr_companies  xstr_scenarios  xstr_pivot_type_sector_subsector(data)  xstr_prepare_scenario(scenarios)  xstr_prune_companies(data)  xstr_polish_output_at_company_level(data)"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/deprecated.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Deprecated — deprecated","text":"object class spec_tbl_df (inherits tbl_df, tbl, data.frame) 9 rows 4 columns. object class spec_tbl_df (inherits tbl_df, tbl, data.frame) 33 rows 6 columns. object class spec_tbl_df (inherits tbl_df, tbl, data.frame) 5 rows 6 columns. object class spec_tbl_df (inherits tbl_df, tbl, data.frame) 8 rows 6 columns. object class spec_tbl_df (inherits tbl_df, tbl, data.frame) 74 rows 10 columns. object class spec_tbl_df (inherits tbl_df, tbl, data.frame) 28 rows 10 columns. object class spec_tbl_df (inherits tbl_df, tbl, data.frame) 388 rows 8 columns.","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/e.html","id":null,"dir":"Reference","previous_headings":"","what":"Avoid R CMD Check warning about undocumented data sets — e","title":"Avoid R CMD Check warning about undocumented data sets — e","text":"R CMD check wants documentation anything defined file. stick objects e can document single e object internal.","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/e.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Avoid R CMD Check warning about undocumented data sets — e","text":"","code":"e"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/e.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Avoid R CMD Check warning about undocumented data sets — e","text":"object class environment length 11.","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/emissions_profile.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the indicator ","title":"Calculate the indicator ","text":"\"emissions profile\" measures transition risk product-level company. indicator expressed percentage products high risk, medium risk low risk due products' relative carbon footprint. assessment first performed product-level can aggregated company-level. \"emissions profile\" measures relative carbon footprint per product. default option product compared carbon footprint every product. Products higher carbon-footprint face higher risk. identifying carbon footprint one product, products ranked according carbon footprint. ranking method explained Thresholds section. categorization, aggregate products category set relation products company produces. derive \"emissions profile\". Please note carbon footprints, emissions used equivalently. Carbon footprint refers emissions occur production stage product emissions inputs. unit CO2e kg. indicator provides share products \"low\", \"medium\", \"high\" relative production emissions per company. output indicator contains following: column production emissions column indicating percentile relative () products unit (ii) products sector (iii) products segment column indicating whether product \"low\", \"medium\" \"high\" relative production emissions.","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/emissions_profile.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the indicator ","text":"","code":"emissions_profile(companies, co2, low_threshold = 1/3, high_threshold = 2/3)"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/emissions_profile.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the indicator ","text":"companies, co2 dataframe like dataset matching name tiltToyData (see Reference). low_threshold numeric value segment low medium transition risk products. high_threshold numeric value segment medium high transition risk products.","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/emissions_profile.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the indicator ","text":"data frame column companies_id, nested columns product company holding outputs product company level. Unnesting product yields data frame least columns companies_id, grouped_by, risk_category. Unnesting company yields data frame least columns companies_id, grouped_by, risk_category, value.","code":""},{"path":[]},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/emissions_profile.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate the indicator ","text":"","code":"library(tiltToyData) library(readr) options(readr.show_col_types = FALSE)  companies <- read_csv(toy_emissions_profile_any_companies()) products <- read_csv(toy_emissions_profile_products())  both <- emissions_profile(companies, products) both #> # A tibble: 8 × 3 #>   companies_id                             product           company           #>   <chr>                                    <list>            <list>            #> 1 fleischerei-stiefsohn_00000005219477-001 <tibble [12 × 5]> <tibble [18 × 3]> #> 2 pecheries-basques_fra316541-00101        <tibble [6 × 5]>  <tibble [18 × 3]> #> 3 hoche-butter-gmbh_deu422723-693847001    <tibble [6 × 5]>  <tibble [18 × 3]> #> 4 vicquelin-espaces-verts_fra697272-00101  <tibble [6 × 5]>  <tibble [18 × 3]> #> 5 bst-procontrol-gmbh_00000005104947-001   <tibble [6 × 5]>  <tibble [18 × 3]> #> 6 leider-gmbh_00000005064318-001           <tibble [6 × 5]>  <tibble [18 × 3]> #> 7 cheries-baqu_neu316541-00101             <tibble [6 × 5]>  <tibble [18 × 3]> #> 8 ca-coity-trg-aua-gmbh_00000384-001       <tibble [1 × 5]>  <tibble [3 × 3]>   both |> unnest_product() #> # A tibble: 49 × 6 #>    companies_id        grouped_by risk_category clustered activity_uuid_produc…¹ #>    <chr>               <chr>      <chr>         <chr>     <chr>                  #>  1 fleischerei-stiefs… all        high          stove     0a242b09-772a-5edf-8e… #>  2 fleischerei-stiefs… isic_sec   high          stove     0a242b09-772a-5edf-8e… #>  3 fleischerei-stiefs… tilt_sec   high          stove     0a242b09-772a-5edf-8e… #>  4 fleischerei-stiefs… unit       high          stove     0a242b09-772a-5edf-8e… #>  5 fleischerei-stiefs… unit_isic… high          stove     0a242b09-772a-5edf-8e… #>  6 fleischerei-stiefs… unit_tilt… high          stove     0a242b09-772a-5edf-8e… #>  7 fleischerei-stiefs… all        high          oven      be06d25c-73dc-55fb-96… #>  8 fleischerei-stiefs… isic_sec   medium        oven      be06d25c-73dc-55fb-96… #>  9 fleischerei-stiefs… tilt_sec   medium        oven      be06d25c-73dc-55fb-96… #> 10 fleischerei-stiefs… unit       medium        oven      be06d25c-73dc-55fb-96… #> # ℹ 39 more rows #> # ℹ abbreviated name: ¹​activity_uuid_product_uuid #> # ℹ 1 more variable: co2_footprint <dbl>  both |> unnest_company() #> # A tibble: 129 × 4 #>    companies_id                             grouped_by risk_category value #>    <chr>                                    <chr>      <chr>         <dbl> #>  1 fleischerei-stiefsohn_00000005219477-001 all        high            1   #>  2 fleischerei-stiefsohn_00000005219477-001 all        medium          0   #>  3 fleischerei-stiefsohn_00000005219477-001 all        low             0   #>  4 fleischerei-stiefsohn_00000005219477-001 isic_sec   high            0.5 #>  5 fleischerei-stiefsohn_00000005219477-001 isic_sec   medium          0.5 #>  6 fleischerei-stiefsohn_00000005219477-001 isic_sec   low             0   #>  7 fleischerei-stiefsohn_00000005219477-001 tilt_sec   high            0.5 #>  8 fleischerei-stiefsohn_00000005219477-001 tilt_sec   medium          0.5 #>  9 fleischerei-stiefsohn_00000005219477-001 tilt_sec   low             0   #> 10 fleischerei-stiefsohn_00000005219477-001 unit       high            0.5 #> # ℹ 119 more rows"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/emissions_profile_upstream.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the indicator ","title":"Calculate the indicator ","text":"indicator \"emissions profile upstream\" assesses transition risk upstream products due relative carbon footprint upstream products. default option, upstream product compared carbon footprint every upstream product. Upstream products higher carbon footprint face higher risk. company-level, indicator proxies supply chain risk company - based inputs. indicator \"emissions profile upstream\" therefore similar Product Carbon Transition Risk Indicator, focuses upstream products product company. Upstream products , example, resources, packaging materials, energy enabling services (tractor use farm) produce product. identifying carbon footprint one upstream product, input products ranked according footprint. ranking method explained Thresholds section. assessing upstream products' transition risk based carbon footprint product, aggregated company-level. derive percentage upstream products high, medium low transition risk. indicator consists 2 broad steps: Score upstream products: Identifying upstream products product, calculating relative carbon footprint per upstream product. Score companies: Aggregating company-level. sample data set includes inputs co2 footprints product Ecoinvent sectors Europages. NOTE: following columns completely random selection reflect true information: co2 footprints (allowed share licensed data right now) sectors (matching ecoinvent done yet, one sector per product yet)","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/emissions_profile_upstream.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the indicator ","text":"","code":"emissions_profile_upstream(   companies,   co2,   low_threshold = 1/3,   high_threshold = 2/3 )"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/emissions_profile_upstream.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the indicator ","text":"companies, co2 dataframe like dataset matching name tiltToyData (see Reference). low_threshold numeric value segment low medium transition risk products. high_threshold numeric value segment medium high transition risk products.","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/emissions_profile_upstream.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the indicator ","text":"data frame column companies_id, nested columns product company holding outputs product company level. Unnesting product yields data frame least columns companies_id, grouped_by, risk_category. Unnesting company yields data frame least columns companies_id, grouped_by, risk_category, value.","code":""},{"path":[]},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/emissions_profile_upstream.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate the indicator ","text":"","code":"library(tiltToyData) library(readr) options(readr.show_col_types = FALSE)  companies <- read_csv(toy_emissions_profile_any_companies()) upstream_products <- read_csv(toy_emissions_profile_upstream_products())  both <- emissions_profile_upstream(companies, upstream_products)  both |> unnest_product() #> # A tibble: 319 × 7 #>    companies_id        grouped_by risk_category clustered activity_uuid_produc…¹ #>    <chr>               <chr>      <chr>         <chr>     <chr>                  #>  1 fleischerei-stiefs… all        high          stove     0a242b09-772a-5edf-8e… #>  2 fleischerei-stiefs… all        high          stove     0a242b09-772a-5edf-8e… #>  3 fleischerei-stiefs… all        medium        stove     0a242b09-772a-5edf-8e… #>  4 fleischerei-stiefs… all        high          stove     0a242b09-772a-5edf-8e… #>  5 fleischerei-stiefs… all        high          stove     0a242b09-772a-5edf-8e… #>  6 fleischerei-stiefs… all        low           stove     0a242b09-772a-5edf-8e… #>  7 fleischerei-stiefs… all        low           stove     0a242b09-772a-5edf-8e… #>  8 fleischerei-stiefs… all        high          stove     0a242b09-772a-5edf-8e… #>  9 fleischerei-stiefs… isic_sec   high          stove     0a242b09-772a-5edf-8e… #> 10 fleischerei-stiefs… isic_sec   high          stove     0a242b09-772a-5edf-8e… #> # ℹ 309 more rows #> # ℹ abbreviated name: ¹​activity_uuid_product_uuid #> # ℹ 2 more variables: input_activity_uuid_product_uuid <chr>, #> #   input_co2_footprint <dbl>  both |> unnest_company() #> # A tibble: 129 × 4 #>    companies_id                             grouped_by risk_category value #>    <chr>                                    <chr>      <chr>         <dbl> #>  1 fleischerei-stiefsohn_00000005219477-001 all        high          0.571 #>  2 fleischerei-stiefsohn_00000005219477-001 all        medium        0.214 #>  3 fleischerei-stiefsohn_00000005219477-001 all        low           0.214 #>  4 fleischerei-stiefsohn_00000005219477-001 isic_sec   high          0.357 #>  5 fleischerei-stiefsohn_00000005219477-001 isic_sec   medium        0.357 #>  6 fleischerei-stiefsohn_00000005219477-001 isic_sec   low           0.286 #>  7 fleischerei-stiefsohn_00000005219477-001 tilt_sec   high          0.429 #>  8 fleischerei-stiefsohn_00000005219477-001 tilt_sec   medium        0.357 #>  9 fleischerei-stiefsohn_00000005219477-001 tilt_sec   low           0.214 #> 10 fleischerei-stiefsohn_00000005219477-001 unit       high          0.429 #> # ℹ 119 more rows"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/extdata_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Get path to child extdata/ — extdata_path","title":"Get path to child extdata/ — extdata_path","text":"Get path child extdata/","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/extdata_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get path to child extdata/ — extdata_path","text":"","code":"extdata_path(path)"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/extdata_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get path to child extdata/ — extdata_path","text":"path Character. Path directory inst/extdata/.","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/extdata_path.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get path to child extdata/ — extdata_path","text":"","code":"extdata_path(\"\") #> [1] \"/home/runner/work/_temp/Library/tiltIndicator/extdata/\" list.files(extdata_path(\"\"), recursive = TRUE) #>  [1] \"child/intro-emissions-profile-upstream.Rmd\" #>  [2] \"child/intro-emissions-profile.Rmd\"          #>  [3] \"child/intro-general.Rmd\"                    #>  [4] \"child/intro-sector-profile-upstream.Rmd\"    #>  [5] \"child/intro-sector-profile.Rmd\"             #>  [6] \"child/thresholds.Rmd\"                       #>  [7] \"istr_companies.csv\"                         #>  [8] \"istr_inputs.csv\"                            #>  [9] \"mtcars.Rmd\"                                 #> [10] \"mtcars.csv\"                                 #> [11] \"pstr_companies.csv\"                         #> [12] \"str_ipr_targets.csv\"                        #> [13] \"str_weo_targets.csv\""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling rhs(lhs).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/rename.html","id":null,"dir":"Reference","previous_headings":"","what":"Renamed functions and datasets — rename","title":"Renamed functions and datasets — rename","text":"Conceptual changes: PCTR becomes Emissions Profile. ICTR becomes Emissions Profile Upstream. PSTR becomes Sector Profile. ISTR becomes Sector Profile Upstream. Motivation: names informative easier remember. indicators now share one common word (profile) instead two (transition risk). word \"upstream\" familiar users banks \"inputs\". word \"emissions\" replaces \"carbon\" data use actually take account CO2 equivalents, .e. GHG. Compared phrase \"transition risk\", word \"profile\" better reflects indicators used risk assessment also things, broader sustainability assessment, engagement, reporting, etc. Implementation changes: v0.0.0.9084: pstr() -> sector_profile() v0.0.0.9085: istr() -> sector_profile_upstream() v0.0.0.9086: xctr(companies, products) -> emissions_profile() v0.0.0.9087: xctr(companies, inputs) -> emissions_profile_upstream() v0.0.0.9092: xstr_pivot_type_sector_subsector() -> sector_profile_any_pivot_type_sector_subsector() v0.0.0.9092: xstr_prepare_scenario() -> sector_profile_any_prepare_scenario() v0.0.0.9092: xstr_prune_companies() -> sector_profile_any_prune_companies() v0.0.0.9092: xstr_polish_output_at_company_level() -> sector_profile_any_polish_output_at_company_level()","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/rename.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Renamed functions and datasets — rename","text":"","code":"pstr(   companies,   scenarios,   low_threshold = ifelse(scenarios$year == 2030, 1/9, 1/3),   high_threshold = ifelse(scenarios$year == 2030, 2/9, 2/3) )  istr(   companies,   scenarios,   inputs,   low_threshold = ifelse(scenarios$year == 2030, 1/9, 1/3),   high_threshold = ifelse(scenarios$year == 2030, 2/9, 2/3) )  xctr(companies, co2, low_threshold = 1/3, high_threshold = 2/3)"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/sector_profile.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the indicator ","title":"Calculate the indicator ","text":"indicator \"sector profile\" measures transition risk products based sector's emissions targets product belongs . sector emission reduction targets vary across scenarios (e.g., net zero scenario 1.5° scenario) time horizon (e.g., reduction needed 2030, 2040, 2050 achieve targets). assessing product, products category aggregated set relation products company. , therefore, derive company-level information.","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/sector_profile.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the indicator ","text":"","code":"sector_profile(   companies,   scenarios,   low_threshold = ifelse(scenarios$year == 2030, 1/9, 1/3),   high_threshold = ifelse(scenarios$year == 2030, 2/9, 2/3) )"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/sector_profile.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the indicator ","text":"companies, scenarios dataframe like dataset matching name tiltToyData (see Reference). low_threshold numeric value segment low medium reduction targets. high_threshold numeric value segment medium high reduction targets.","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/sector_profile.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the indicator ","text":"data frame column companies_id, nested columns product company holding outputs product company level. Unnesting product yields data frame least columns companies_id, grouped_by, risk_category. Unnesting company yields data frame least columns companies_id, grouped_by, risk_category, value.","code":""},{"path":[]},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/sector_profile.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate the indicator ","text":"","code":"library(tiltToyData) library(readr) options(readr.show_col_types = FALSE)  companies <- read_csv(toy_sector_profile_companies()) scenarios <- read_csv(toy_sector_profile_any_scenarios())  both <- sector_profile(companies, scenarios) both #> # A tibble: 14 × 3 #>    companies_id                             product           company           #>    <chr>                                    <list>            <list>            #>  1 fleischerei-stiefsohn_00000005219477-001 <tibble [14 × 9]> <tibble [42 × 3]> #>  2 pecheries-basques_fra316541-00101        <tibble [14 × 9]> <tibble [42 × 3]> #>  3 hoche-butter-gmbh_deu422723-693847001    <tibble [14 × 9]> <tibble [42 × 3]> #>  4 hoche-butter-gmbh_deu422723-693847002    <tibble [14 × 9]> <tibble [42 × 3]> #>  5 hoche-butter-gmbh_deu422723-693847003    <tibble [14 × 9]> <tibble [42 × 3]> #>  6 vicquelin-espaces-verts_fra697272-00101  <tibble [14 × 9]> <tibble [42 × 3]> #>  7 vicquelin-espaces-verts_fra697272-00102  <tibble [14 × 9]> <tibble [42 × 3]> #>  8 vicquelin-espaces-verts_fra697272-00103  <tibble [14 × 9]> <tibble [42 × 3]> #>  9 fleisohn_0000000492-001                  <tibble [14 × 9]> <tibble [42 × 3]> #> 10 bst-procontrol-gmbh_00000005104947-001   <tibble [14 × 9]> <tibble [42 × 3]> #> 11 leider-gmbh_00000005064318-001           <tibble [14 × 9]> <tibble [42 × 3]> #> 12 leider-gmbh_00000005064318-002           <tibble [14 × 9]> <tibble [42 × 3]> #> 13 cheries-baqu_neu316541-00101             <tibble [14 × 9]> <tibble [42 × 3]> #> 14 ca-coity-trg-aua-gmbh_00000384-001       <tibble [14 × 9]> <tibble [42 × 3]>  both |> unnest_product() #> # A tibble: 196 × 10 #>    companies_id        grouped_by risk_category clustered activity_uuid_produc…¹ #>    <chr>               <chr>      <chr>         <chr>     <chr>                  #>  1 fleischerei-stiefs… ipr_1.5c … high          steel     0faa7ecb-fef2-5117-89… #>  2 fleischerei-stiefs… ipr_1.5c … high          steel     0faa7ecb-fef2-5117-89… #>  3 fleischerei-stiefs… weo_state… low           steel     0faa7ecb-fef2-5117-89… #>  4 fleischerei-stiefs… weo_annou… low           steel     0faa7ecb-fef2-5117-89… #>  5 fleischerei-stiefs… weo_net z… low           steel     0faa7ecb-fef2-5117-89… #>  6 fleischerei-stiefs… weo_state… low           steel     0faa7ecb-fef2-5117-89… #>  7 fleischerei-stiefs… weo_annou… low           steel     0faa7ecb-fef2-5117-89… #>  8 fleischerei-stiefs… weo_net z… high          steel     0faa7ecb-fef2-5117-89… #>  9 fleischerei-stiefs… weo_state… low           steel     0faa7ecb-fef2-5117-89… #> 10 fleischerei-stiefs… weo_annou… medium        steel     0faa7ecb-fef2-5117-89… #> # ℹ 186 more rows #> # ℹ abbreviated name: ¹​activity_uuid_product_uuid #> # ℹ 5 more variables: tilt_sector <chr>, scenario <chr>, year <dbl>, #> #   type <chr>, tilt_subsector <chr>  both |> unnest_company() #> # A tibble: 588 × 4 #>    companies_id                             grouped_by       risk_category value #>    <chr>                                    <chr>            <chr>         <dbl> #>  1 fleischerei-stiefsohn_00000005219477-001 ipr_1.5c rps_20… high              1 #>  2 fleischerei-stiefsohn_00000005219477-001 ipr_1.5c rps_20… medium            0 #>  3 fleischerei-stiefsohn_00000005219477-001 ipr_1.5c rps_20… low               0 #>  4 fleischerei-stiefsohn_00000005219477-001 ipr_1.5c rps_20… high              1 #>  5 fleischerei-stiefsohn_00000005219477-001 ipr_1.5c rps_20… medium            0 #>  6 fleischerei-stiefsohn_00000005219477-001 ipr_1.5c rps_20… low               0 #>  7 fleischerei-stiefsohn_00000005219477-001 weo_announced p… high              0 #>  8 fleischerei-stiefsohn_00000005219477-001 weo_announced p… medium            0 #>  9 fleischerei-stiefsohn_00000005219477-001 weo_announced p… low               1 #> 10 fleischerei-stiefsohn_00000005219477-001 weo_announced p… high              0 #> # ℹ 578 more rows"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/sector_profile_any_pivot_type_sector_subsector.html","id":null,"dir":"Reference","previous_headings":"","what":"Restructure ","title":"Restructure ","text":"Restructure \"sector profile\" companies","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/sector_profile_any_pivot_type_sector_subsector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Restructure ","text":"","code":"sector_profile_any_pivot_type_sector_subsector(data)"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/sector_profile_any_pivot_type_sector_subsector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Restructure ","text":"data dataframe columns: ipr_sector ipr_subsector weo_product weo_flow","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/sector_profile_any_pivot_type_sector_subsector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Restructure ","text":"companies dataset required sector functions.","code":""},{"path":[]},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/sector_profile_any_pivot_type_sector_subsector.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Restructure ","text":"","code":"library(dplyr, warn.conflicts = FALSE) library(readr, warn.conflicts = FALSE)  raw_companies <- read_csv(extdata_path(\"pstr_companies.csv\")) glimpse(raw_companies) #> Rows: 14 #> Columns: 11 #> $ company_id                 <chr> \"fleischerei-stiefsohn_00000005219477-001\",… #> $ company_name               <chr> \"fleischerei-stiefsohn\", \"pecheries-basques… #> $ clustered                  <chr> \"steel\", \"nitrogen\", \"waste\", \"car\", \"heate… #> $ activity_uuid_product_uuid <chr> \"0faa7ecb-fef2-5117-8993-387c1236-001e-49b5… #> $ isic_4digit                <dbl> 2410, 2029, NA, NA, NA, NA, NA, NA, 2029, 1… #> $ tilt_sector                <chr> NA, NA, \"Energy\", \"Transportation\", \"Constr… #> $ tilt_subsector             <chr> NA, NA, \"Bioenergy & Waste\", \"Transportatio… #> $ ipr_sector                 <chr> \"Industry\", \"Industry\", \"Total\", \"Transport… #> $ ipr_subsector              <chr> \"Iron and Steel\", \"Chemicals\", \"Energy\", \"O… #> $ weo_sector                 <chr> \"Total\", \"Total\", \"Bioenergy and Waste\", \"T… #> $ weo_subsector              <chr> \"Iron and steel\", \"Chemicals\", \"Total Energ…  companies <- sector_profile_any_pivot_type_sector_subsector(raw_companies) companies #> # A tibble: 28 × 10 #>    company_id          company_name clustered activity_uuid_produc…¹ isic_4digit #>    <chr>               <chr>        <chr>     <chr>                        <dbl> #>  1 fleischerei-stiefs… fleischerei… steel     0faa7ecb-fef2-5117-89…        2410 #>  2 fleischerei-stiefs… fleischerei… steel     0faa7ecb-fef2-5117-89…        2410 #>  3 pecheries-basques_… pecheries-b… nitrogen  03fbf989-9a1a-5e3d-a5…        2029 #>  4 pecheries-basques_… pecheries-b… nitrogen  03fbf989-9a1a-5e3d-a5…        2029 #>  5 hoche-butter-gmbh_… hoche-butte… waste     NA                              NA #>  6 hoche-butter-gmbh_… hoche-butte… waste     NA                              NA #>  7 hoche-butter-gmbh_… hoche-butte… car       NA                              NA #>  8 hoche-butter-gmbh_… hoche-butte… car       NA                              NA #>  9 hoche-butter-gmbh_… hoche-butte… heater    NA                              NA #> 10 hoche-butter-gmbh_… hoche-butte… heater    NA                              NA #> # ℹ 18 more rows #> # ℹ abbreviated name: ¹​activity_uuid_product_uuid #> # ℹ 5 more variables: tilt_sector <chr>, tilt_subsector <chr>, type <chr>, #> #   sector <chr>, subsector <chr>"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/sector_profile_any_polish_output_at_company_level.html","id":null,"dir":"Reference","previous_headings":"","what":"Polish output at company level — sector_profile_any_polish_output_at_company_level","title":"Polish output at company level — sector_profile_any_polish_output_at_company_level","text":"Polish output company level","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/sector_profile_any_polish_output_at_company_level.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Polish output at company level — sector_profile_any_polish_output_at_company_level","text":"","code":"sector_profile_any_polish_output_at_company_level(data)"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/sector_profile_any_polish_output_at_company_level.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Polish output at company level — sector_profile_any_polish_output_at_company_level","text":"data output sector_profile*() functions.","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/sector_profile_any_polish_output_at_company_level.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Polish output at company level — sector_profile_any_polish_output_at_company_level","text":"dataframe.","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/sector_profile_any_polish_output_at_company_level.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Polish output at company level — sector_profile_any_polish_output_at_company_level","text":"","code":"library(tiltToyData) library(readr) options(readr.show_col_types = FALSE)  companies <- read_csv(toy_sector_profile_companies()) scenarios <- read_csv(toy_sector_profile_any_scenarios())  sector_profile(companies, scenarios) |>   unnest_company() |>   sector_profile_any_polish_output_at_company_level() #> # A tibble: 588 × 6 #>    companies_id                         type  scenario year  risk_category value #>    <chr>                                <chr> <chr>    <chr> <chr>         <dbl> #>  1 fleischerei-stiefsohn_0000000521947… ipr   1.5c rps 2030  high              1 #>  2 fleischerei-stiefsohn_0000000521947… ipr   1.5c rps 2030  medium            0 #>  3 fleischerei-stiefsohn_0000000521947… ipr   1.5c rps 2030  low               0 #>  4 fleischerei-stiefsohn_0000000521947… ipr   1.5c rps 2050  high              1 #>  5 fleischerei-stiefsohn_0000000521947… ipr   1.5c rps 2050  medium            0 #>  6 fleischerei-stiefsohn_0000000521947… ipr   1.5c rps 2050  low               0 #>  7 fleischerei-stiefsohn_0000000521947… weo   announc… 2020  high              0 #>  8 fleischerei-stiefsohn_0000000521947… weo   announc… 2020  medium            0 #>  9 fleischerei-stiefsohn_0000000521947… weo   announc… 2020  low               1 #> 10 fleischerei-stiefsohn_0000000521947… weo   announc… 2030  high              0 #> # ℹ 578 more rows  companies_upstream <- read_csv(toy_sector_profile_upstream_companies()) products_upstream <- read_csv(toy_sector_profile_upstream_products())  sector_profile_upstream(companies_upstream, scenarios, products_upstream) |>   unnest_company() |>   sector_profile_any_polish_output_at_company_level() #> # A tibble: 294 × 6 #>    companies_id                        type  scenario year  risk_category  value #>    <chr>                               <chr> <chr>    <chr> <chr>          <dbl> #>  1 fleischerei-stiefsohn_000000052194… ipr   1.5c rps 2030  high          0.333  #>  2 fleischerei-stiefsohn_000000052194… ipr   1.5c rps 2030  medium        0.583  #>  3 fleischerei-stiefsohn_000000052194… ipr   1.5c rps 2030  low           0.0833 #>  4 fleischerei-stiefsohn_000000052194… ipr   1.5c rps 2050  high          1      #>  5 fleischerei-stiefsohn_000000052194… ipr   1.5c rps 2050  medium        0      #>  6 fleischerei-stiefsohn_000000052194… ipr   1.5c rps 2050  low           0      #>  7 fleischerei-stiefsohn_000000052194… weo   announc… 2020  high          0      #>  8 fleischerei-stiefsohn_000000052194… weo   announc… 2020  medium        0      #>  9 fleischerei-stiefsohn_000000052194… weo   announc… 2020  low           1      #> 10 fleischerei-stiefsohn_000000052194… weo   announc… 2030  high          0.0769 #> # ℹ 284 more rows"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/sector_profile_any_prepare_scenario.html","id":null,"dir":"Reference","previous_headings":"","what":"Given a named list of scenarios returns a cleaner scenarios dataframe — sector_profile_any_prepare_scenario","title":"Given a named list of scenarios returns a cleaner scenarios dataframe — sector_profile_any_prepare_scenario","text":"Given named list scenarios returns cleaner scenarios dataframe","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/sector_profile_any_prepare_scenario.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Given a named list of scenarios returns a cleaner scenarios dataframe — sector_profile_any_prepare_scenario","text":"","code":"sector_profile_any_prepare_scenario(scenarios)"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/sector_profile_any_prepare_scenario.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Given a named list of scenarios returns a cleaner scenarios dataframe — sector_profile_any_prepare_scenario","text":"scenarios named list identically structured scenarios.","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/sector_profile_any_prepare_scenario.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Given a named list of scenarios returns a cleaner scenarios dataframe — sector_profile_any_prepare_scenario","text":"single, cleaner dataframe additional column identify rows come scenario.","code":""},{"path":[]},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/sector_profile_any_prepare_scenario.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Given a named list of scenarios returns a cleaner scenarios dataframe — sector_profile_any_prepare_scenario","text":"","code":"library(dplyr, warn.conflicts = FALSE) library(readr, warn.conflicts = FALSE)  raw_weo <- read_csv(extdata_path(\"str_weo_targets.csv\")) raw_ipr <- read_csv(extdata_path(\"str_ipr_targets.csv\")) raw_scenarios <- list(weo = raw_weo, ipr = raw_ipr)  sector_profile_any_prepare_scenario(raw_scenarios) #> # A tibble: 388 × 8 #>    scenario               region sector subsector  year   value reductions type  #>    <chr>                  <chr>  <chr>  <chr>     <dbl>   <dbl>      <dbl> <chr> #>  1 stated policies scena… world  total  biofuels…  2020 8.1 e-1     0      weo   #>  2 announced pledges sce… world  total  biofuels…  2020 8.1 e-1     0      weo   #>  3 net zero emissions by… world  total  biofuels…  2020 8.1 e-1     0      weo   #>  4 stated policies scena… world  total  biofuels…  2030 8.74e+0    -9.79   weo   #>  5 stated policies scena… world  coal   total en…  2020 1.43e+4     0      weo   #>  6 stated policies scena… world  coal   total en…  2030 1.37e+4     0.0447 weo   #>  7 stated policies scena… world  coal   total en…  2040 1.16e+4     0.194  weo   #>  8 stated policies scena… world  coal   total en…  2050 9.86e+3     0.312  weo   #>  9 stated policies scena… world  oil    total en…  2020 1.02e+4     0      weo   #> 10 stated policies scena… world  oil    total en…  2030 1.14e+4    -0.119  weo   #> # ℹ 378 more rows"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/sector_profile_any_prune_companies.html","id":null,"dir":"Reference","previous_headings":"","what":"Drop rows where the product info is NA & sector info is duplicated — sector_profile_any_prune_companies","title":"Drop rows where the product info is NA & sector info is duplicated — sector_profile_any_prune_companies","text":"company, function drops rows product information missing sector information duplicated.","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/sector_profile_any_prune_companies.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Drop rows where the product info is NA & sector info is duplicated — sector_profile_any_prune_companies","text":"","code":"sector_profile_any_prune_companies(data)"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/sector_profile_any_prune_companies.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Drop rows where the product info is NA & sector info is duplicated — sector_profile_any_prune_companies","text":"data Typically \"sector profile\" *companies dataframe.","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/sector_profile_any_prune_companies.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Drop rows where the product info is NA & sector info is duplicated — sector_profile_any_prune_companies","text":"dataframe maybe fewer rows input data.","code":""},{"path":[]},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/sector_profile_any_prune_companies.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Drop rows where the product info is NA & sector info is duplicated — sector_profile_any_prune_companies","text":"","code":"# styler: off companies <- tibble::tribble(   ~row, ~company_id, ~clustered, ~activity_uuid_product_uuid, ~tilt_sector,   # Keep: Has product info      1,         \"a\",       \"b1\",                        \"c1\",          \"x\",   # Drop: Lacks product info and sector info is duplicated      2,         \"a\",         NA,                          NA,          \"x\",   # Keep: Lacks product info but sector info is unique      3,         \"a\",         NA,                          NA,          \"y\",   # Drop: Lacks product info and sector info is duplicated      4,         \"a\",         NA,                          NA,          \"y\", ) # styler: on  sector_profile_any_prune_companies(companies) #> # A tibble: 2 × 5 #>     row company_id clustered activity_uuid_product_uuid tilt_sector #>   <dbl> <chr>      <chr>     <chr>                      <chr>       #> 1     1 a          b1        c1                         x           #> 2     3 a          NA        NA                         y"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/sector_profile_upstream.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the indicator ","title":"Calculate the indicator ","text":"Input Product Sector Risk Indicator assesses transition risk input products based sector's emissions targets input product belongs . indicator can aggregated company level inform supply chain risk SME, based inputs’ transition risk. sector emission reduction targets vary across scenarios (e.g., net zero scenario 1.5° scenario) time horizon (e.g., reduction needed 2030, 2040, 2050 achieve targets). , therefore, similar Product Sector Risk Indicator focuses input products company needs produce products.input products , example, resources, packaging materials, energy enabling services (tractor use farm) produce product. identifying carbon footprint one input product, input products ranked according footprint. ranking method explained Thresholds section. assessing input products product, aggregated company-level derive percentage input products required company produce products high, medium low sector transition risk. , therefore, derive company-level information. Please note carbon emissions emissions always mean CO2e.","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/sector_profile_upstream.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the indicator ","text":"","code":"sector_profile_upstream(   companies,   scenarios,   inputs,   low_threshold = ifelse(scenarios$year == 2030, 1/9, 1/3),   high_threshold = ifelse(scenarios$year == 2030, 2/9, 2/3) )"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/sector_profile_upstream.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the indicator ","text":"companies, scenarios, inputs dataframe like dataset matching name tiltToyData (see Reference). low_threshold numeric value segment low medium transition risk products. high_threshold numeric value segment medium high transition risk products.","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/sector_profile_upstream.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the indicator ","text":"data frame column companies_id, nested columns product company holding outputs product company level. Unnesting product yields data frame least columns companies_id, grouped_by, risk_category. Unnesting company yields data frame least columns companies_id, grouped_by, risk_category, value.","code":""},{"path":[]},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/sector_profile_upstream.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate the indicator ","text":"","code":"library(tiltToyData) library(readr) options(readr.show_col_types = FALSE)  companies <- read_csv(toy_sector_profile_upstream_companies()) scenarios <- read_csv(toy_sector_profile_any_scenarios()) products_upstream <- read_csv(toy_sector_profile_upstream_products())  both <- sector_profile_upstream(companies, scenarios, products_upstream) both #> # A tibble: 7 × 3 #>   companies_id                             product             company           #>   <chr>                                    <list>              <list>            #> 1 fleischerei-stiefsohn_00000005219477-001 <tibble [180 × 11]> <tibble [42 × 3]> #> 2 pecheries-basques_fra316541-00101        <tibble [14 × 11]>  <tibble [42 × 3]> #> 3 hoche-butter-gmbh_deu422723-693847001    <tibble [70 × 11]>  <tibble [42 × 3]> #> 4 vicquelin-espaces-verts_fra697272-00101  <tibble [70 × 11]>  <tibble [42 × 3]> #> 5 bst-procontrol-gmbh_00000005104947-001   <tibble [70 × 11]>  <tibble [42 × 3]> #> 6 leider-gmbh_00000005064318-001           <tibble [150 × 11]> <tibble [42 × 3]> #> 7 cheries-baqu_neu316541-00101             <tibble [150 × 11]> <tibble [42 × 3]>  both |> unnest_product() #> # A tibble: 704 × 12 #>    companies_id        grouped_by risk_category clustered activity_uuid_produc…¹ #>    <chr>               <chr>      <chr>         <chr>     <chr>                  #>  1 fleischerei-stiefs… weo_state… low           stove     0a242b09-772a-5edf-8e… #>  2 fleischerei-stiefs… weo_state… low           stove     0a242b09-772a-5edf-8e… #>  3 fleischerei-stiefs… weo_state… low           stove     0a242b09-772a-5edf-8e… #>  4 fleischerei-stiefs… weo_state… low           stove     0a242b09-772a-5edf-8e… #>  5 fleischerei-stiefs… weo_annou… low           stove     0a242b09-772a-5edf-8e… #>  6 fleischerei-stiefs… weo_annou… high          stove     0a242b09-772a-5edf-8e… #>  7 fleischerei-stiefs… weo_annou… high          stove     0a242b09-772a-5edf-8e… #>  8 fleischerei-stiefs… weo_annou… high          stove     0a242b09-772a-5edf-8e… #>  9 fleischerei-stiefs… weo_net z… low           stove     0a242b09-772a-5edf-8e… #> 10 fleischerei-stiefs… weo_net z… high          stove     0a242b09-772a-5edf-8e… #> # ℹ 694 more rows #> # ℹ abbreviated name: ¹​activity_uuid_product_uuid #> # ℹ 7 more variables: tilt_sector <chr>, scenario <chr>, year <dbl>, #> #   type <chr>, input_activity_uuid_product_uuid <chr>, #> #   input_tilt_sector <chr>, input_tilt_subsector <chr>  both |> unnest_company() #> # A tibble: 294 × 4 #>    companies_id                             grouped_by      risk_category  value #>    <chr>                                    <chr>           <chr>          <dbl> #>  1 fleischerei-stiefsohn_00000005219477-001 ipr_1.5c rps_2… high          0.333  #>  2 fleischerei-stiefsohn_00000005219477-001 ipr_1.5c rps_2… medium        0.583  #>  3 fleischerei-stiefsohn_00000005219477-001 ipr_1.5c rps_2… low           0.0833 #>  4 fleischerei-stiefsohn_00000005219477-001 ipr_1.5c rps_2… high          1      #>  5 fleischerei-stiefsohn_00000005219477-001 ipr_1.5c rps_2… medium        0      #>  6 fleischerei-stiefsohn_00000005219477-001 ipr_1.5c rps_2… low           0      #>  7 fleischerei-stiefsohn_00000005219477-001 weo_announced … high          0      #>  8 fleischerei-stiefsohn_00000005219477-001 weo_announced … medium        0      #>  9 fleischerei-stiefsohn_00000005219477-001 weo_announced … low           1      #> 10 fleischerei-stiefsohn_00000005219477-001 weo_announced … high          0.0769 #> # ℹ 284 more rows"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/tidyeval.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy eval helpers — tidyeval","title":"Tidy eval helpers — tidyeval","text":"page lists tidy eval tools reexported package rlang. learn using tidy eval scripts packages high level, see dplyr programming vignette ggplot2 packages vignette. Metaprogramming section Advanced R may also useful deeper dive. tidy eval operators {{, !!, !!! syntactic constructs specially interpreted tidy eval functions. mostly need {{, !! !!! advanced operators use simple cases. curly-curly operator {{ allows tunnel data-variables passed function arguments inside tidy eval functions. {{ designed individual arguments. pass multiple arguments contained dots, use ... normal way.   enquo() enquos() delay execution one several function arguments. former returns single expression, latter returns list expressions. defused, expressions longer evaluate . must injected back evaluation context !! (single expression) !!! (list expressions).   simple case, code equivalent usage {{ ... . Defusing enquo() enquos() needed complex cases, instance need inspect modify expressions way. .data pronoun object represents current slice data. variable name string, use .data pronoun subset variable [[.   Another tidy eval operator :=. makes possible use glue curly-curly syntax LHS =. technical reasons, R language support complex expressions left =, use := workaround.   Many tidy eval functions like dplyr::mutate() dplyr::summarise() give automatic name unnamed inputs. need create sort automatic names , use as_label(). instance, glue-tunnelling syntax can reproduced manually :   Expressions defused enquo() (tunnelled {{) need simple column names, can arbitrarily complex. as_label() handles cases gracefully. code assumes simple column name, use as_name() instead. safer throws error input name expected.","code":"my_function <- function(data, var, ...) {   data %>%     group_by(...) %>%     summarise(mean = mean({{ var }})) } my_function <- function(data, var, ...) {   # Defuse   var <- enquo(var)   dots <- enquos(...)    # Inject   data %>%     group_by(!!!dots) %>%     summarise(mean = mean(!!var)) } my_var <- \"disp\" mtcars %>% summarise(mean = mean(.data[[my_var]])) my_function <- function(data, var, suffix = \"foo\") {   # Use `{{` to tunnel function arguments and the usual glue   # operator `{` to interpolate plain strings.   data %>%     summarise(\"{{ var }}_mean_{suffix}\" := mean({{ var }})) } my_function <- function(data, var, suffix = \"foo\") {   var <- enquo(var)   prefix <- as_label(var)   data %>%     summarise(\"{prefix}_mean_{suffix}\" := mean(!!var)) }"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/tiltIndicator-package.html","id":null,"dir":"Reference","previous_headings":"","what":"tiltIndicator: Indicators for the 'TILT' Project — tiltIndicator-package","title":"tiltIndicator: Indicators for the 'TILT' Project — tiltIndicator-package","text":"Indicators 'TILT' project.","code":""},{"path":[]},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/tiltIndicator-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"tiltIndicator: Indicators for the 'TILT' Project — tiltIndicator-package","text":"Maintainer: Mauro Lepore maurolepore@gmail.com (ORCID) Authors: Tilman Trompke tilman@2degrees-investing.org Linda Delacombaz linda@2degrees-investing.org Kalash Singhal kalash@2degrees-investing.org Lyanne Ho lyho@deloitte.nl contributors: 2 Degrees Investing Initiative contact@2degrees-investing.org [copyright holder, funder]","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/unnest_product.html","id":null,"dir":"Reference","previous_headings":"","what":"Unnest product- and company-level results — unnest_product","title":"Unnest product- and company-level results — unnest_product","text":"Unnest product- company-level results","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/unnest_product.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Unnest product- and company-level results — unnest_product","text":"","code":"unnest_product(data)  unnest_company(data)"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/unnest_product.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Unnest product- and company-level results — unnest_product","text":"data nested data frame, e.g. output sector_profile().","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/unnest_product.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Unnest product- and company-level results — unnest_product","text":"data frame.","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/reference/unnest_product.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Unnest product- and company-level results — unnest_product","text":"","code":"library(tiltToyData) library(readr) options(readr.show_col_types = FALSE)  companies <- read_csv(toy_sector_profile_companies()) scenarios <- read_csv(toy_sector_profile_any_scenarios())  both <- sector_profile(companies, scenarios) both #> # A tibble: 14 × 3 #>    companies_id                             product           company           #>    <chr>                                    <list>            <list>            #>  1 fleischerei-stiefsohn_00000005219477-001 <tibble [14 × 9]> <tibble [42 × 3]> #>  2 pecheries-basques_fra316541-00101        <tibble [14 × 9]> <tibble [42 × 3]> #>  3 hoche-butter-gmbh_deu422723-693847001    <tibble [14 × 9]> <tibble [42 × 3]> #>  4 hoche-butter-gmbh_deu422723-693847002    <tibble [14 × 9]> <tibble [42 × 3]> #>  5 hoche-butter-gmbh_deu422723-693847003    <tibble [14 × 9]> <tibble [42 × 3]> #>  6 vicquelin-espaces-verts_fra697272-00101  <tibble [14 × 9]> <tibble [42 × 3]> #>  7 vicquelin-espaces-verts_fra697272-00102  <tibble [14 × 9]> <tibble [42 × 3]> #>  8 vicquelin-espaces-verts_fra697272-00103  <tibble [14 × 9]> <tibble [42 × 3]> #>  9 fleisohn_0000000492-001                  <tibble [14 × 9]> <tibble [42 × 3]> #> 10 bst-procontrol-gmbh_00000005104947-001   <tibble [14 × 9]> <tibble [42 × 3]> #> 11 leider-gmbh_00000005064318-001           <tibble [14 × 9]> <tibble [42 × 3]> #> 12 leider-gmbh_00000005064318-002           <tibble [14 × 9]> <tibble [42 × 3]> #> 13 cheries-baqu_neu316541-00101             <tibble [14 × 9]> <tibble [42 × 3]> #> 14 ca-coity-trg-aua-gmbh_00000384-001       <tibble [14 × 9]> <tibble [42 × 3]>  both |> unnest_product() #> # A tibble: 196 × 10 #>    companies_id        grouped_by risk_category clustered activity_uuid_produc…¹ #>    <chr>               <chr>      <chr>         <chr>     <chr>                  #>  1 fleischerei-stiefs… ipr_1.5c … high          steel     0faa7ecb-fef2-5117-89… #>  2 fleischerei-stiefs… ipr_1.5c … high          steel     0faa7ecb-fef2-5117-89… #>  3 fleischerei-stiefs… weo_state… low           steel     0faa7ecb-fef2-5117-89… #>  4 fleischerei-stiefs… weo_annou… low           steel     0faa7ecb-fef2-5117-89… #>  5 fleischerei-stiefs… weo_net z… low           steel     0faa7ecb-fef2-5117-89… #>  6 fleischerei-stiefs… weo_state… low           steel     0faa7ecb-fef2-5117-89… #>  7 fleischerei-stiefs… weo_annou… low           steel     0faa7ecb-fef2-5117-89… #>  8 fleischerei-stiefs… weo_net z… high          steel     0faa7ecb-fef2-5117-89… #>  9 fleischerei-stiefs… weo_state… low           steel     0faa7ecb-fef2-5117-89… #> 10 fleischerei-stiefs… weo_annou… medium        steel     0faa7ecb-fef2-5117-89… #> # ℹ 186 more rows #> # ℹ abbreviated name: ¹​activity_uuid_product_uuid #> # ℹ 5 more variables: tilt_sector <chr>, scenario <chr>, year <dbl>, #> #   type <chr>, tilt_subsector <chr>  both |> unnest_company() #> # A tibble: 588 × 4 #>    companies_id                             grouped_by       risk_category value #>    <chr>                                    <chr>            <chr>         <dbl> #>  1 fleischerei-stiefsohn_00000005219477-001 ipr_1.5c rps_20… high              1 #>  2 fleischerei-stiefsohn_00000005219477-001 ipr_1.5c rps_20… medium            0 #>  3 fleischerei-stiefsohn_00000005219477-001 ipr_1.5c rps_20… low               0 #>  4 fleischerei-stiefsohn_00000005219477-001 ipr_1.5c rps_20… high              1 #>  5 fleischerei-stiefsohn_00000005219477-001 ipr_1.5c rps_20… medium            0 #>  6 fleischerei-stiefsohn_00000005219477-001 ipr_1.5c rps_20… low               0 #>  7 fleischerei-stiefsohn_00000005219477-001 weo_announced p… high              0 #>  8 fleischerei-stiefsohn_00000005219477-001 weo_announced p… medium            0 #>  9 fleischerei-stiefsohn_00000005219477-001 weo_announced p… low               1 #> 10 fleischerei-stiefsohn_00000005219477-001 weo_announced p… high              0 #> # ℹ 578 more rows"},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009092","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9092","title":"tiltIndicator 0.0.0.9092","text":"Rename pre- post-processing helpers (#503).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009091","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9091","title":"tiltIndicator 0.0.0.9091","text":"Rename indicators public documentation (#496).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009090","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9090","title":"tiltIndicator 0.0.0.9090","text":"emissions_profile*() now handles numeric values *isic_4digit (#494).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009089","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9089","title":"tiltIndicator 0.0.0.9089","text":"Deprecate datasets. moved tiltToyData new names (#493).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009088","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9088","title":"tiltIndicator 0.0.0.9088","text":"*_at_product_level() *_at_company_level() now deprecated (#491).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009087","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9087","title":"tiltIndicator 0.0.0.9087","text":"xctr(data, inputs) now deprecated favor new emissions_profile_upstream() (#481).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009086","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9086","title":"tiltIndicator 0.0.0.9086","text":"xctr(data, products) now deprecated favor new emissions_profile() (#481).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009085","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9085","title":"tiltIndicator 0.0.0.9085","text":"istr() now deprecated favor new sector_profile_upstream() (#480).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009084","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9084","title":"tiltIndicator 0.0.0.9084","text":"pstr() now deprecated favor new sector_profile() (#479).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009083","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9083","title":"tiltIndicator 0.0.0.9083","text":"Results company level now preserve unmatched companies (#466).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009082","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9082","title":"tiltIndicator 0.0.0.9082","text":"article “Handling long runtime” now shows enhanced approach (#450).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009081","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9081","title":"tiltIndicator 0.0.0.9081","text":"pstr() now warns companies semicolon ‘;’ sector subsector (#449).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009080","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9080","title":"tiltIndicator 0.0.0.9080","text":"products, activity_uuid_product_uuid now unique (#447).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009079","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9079","title":"tiltIndicator 0.0.0.9079","text":"xctr() now outputs results levels (#443).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009078","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9078","title":"tiltIndicator 0.0.0.9078","text":"istr() now outputs results levels (#442).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009077","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9077","title":"tiltIndicator 0.0.0.9077","text":"pstr() now outputs results levels (#441). New unnest_product() unnest_company() help get results product company levels nested outputs like one pstr().","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009076","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9076","title":"tiltIndicator 0.0.0.9076","text":"Ensure outputs duplicate (#438)","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009075","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9075","title":"tiltIndicator 0.0.0.9075","text":"XSTR longer errors duplicated scenarios (#437).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009074","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9074","title":"tiltIndicator 0.0.0.9074","text":"indicators product level, company match outputs NA, match outputs 1 row NAs columns (except companeis_id (#436).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009073","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9073","title":"tiltIndicator 0.0.0.9073","text":"indicators company level, company match 3 values sum 1 NA level grouped_by, company match 1 value NA total (#434).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009072","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9072","title":"tiltIndicator 0.0.0.9072","text":"xstr_prepare_scenario() duplicated scenario data now throws error (#431). avoids running indicators corrupt input data alerts preparation must fixed.","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009071","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9071","title":"tiltIndicator 0.0.0.9071","text":"istr() now sensitive low_threshold high_threshold (#420).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009070","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9070","title":"tiltIndicator 0.0.0.9070","text":"New xstr_scenarios replaces istr_scenarios pstr_scenarios (@kalashsinghal #413).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009069","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9069","title":"tiltIndicator 0.0.0.9069","text":"pstr_prepare_scenario() now named xstr_prepare_scenario() (#385).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009068","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9068","title":"tiltIndicator 0.0.0.9068","text":"pstr_polish_output_at_copmany_level() now named xstr_polish_output_at_copmany_level() (#383).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009067","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9067","title":"tiltIndicator 0.0.0.9067","text":"xstr_prune_companies() now expects column company_id (#380).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009066","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9066","title":"tiltIndicator 0.0.0.9066","text":"New helper xstr_prune_companies() drop rows product info ‘NA’ & sector info duplicated (#379).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009065","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9065","title":"tiltIndicator 0.0.0.9065","text":"istr_inputs now includes columns required output (@kalashsinghal #376).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009064","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9064","title":"tiltIndicator 0.0.0.9064","text":"XSTR NAs reductions longer error handled specially (@lindadelacombaz #350). ISTR sample data code now use new structure (@kalashsinghal #353). ISTR default thresholds now XCTR (@lindadelacombaz #348).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009063","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9063","title":"tiltIndicator 0.0.0.9063","text":"XXTR functions now stop ‘copmanies’ 0-rows (#340).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009062","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9062","title":"tiltIndicator 0.0.0.9062","text":"XSTR XCTR functions now stop scenarios co2 0-row (#337, #338).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009061","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9061","title":"tiltIndicator 0.0.0.9061","text":"PSTR default thresholds now XCTR (@lindadelacombaz #329).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009060","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9060","title":"tiltIndicator 0.0.0.9060","text":"New pstr_polish_output_at_company_level() (#327)","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009059","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9059","title":"tiltIndicator 0.0.0.9059","text":"article “Handling long runtime” now updated based experience running pstr*() (#314).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009058","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9058","title":"tiltIndicator 0.0.0.9058","text":"scenario type must sector subsector, else error (#311).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009057","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9057","title":"tiltIndicator 0.0.0.9057","text":"pstr_prepare_scenario() now handles “weo” data correctly (@kalashsinghal #309).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009056","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9056","title":"tiltIndicator 0.0.0.9056","text":"type “ipr”, company grouped_by, value sums 1 (#307).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009055","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9055","title":"tiltIndicator 0.0.0.9055","text":"column grouped_by now includes scenario type (#306). makes column grouped_by contain information scenarios, year, type – meaning columns removed keep output simpler, without loosing information.","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009054","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9054","title":"tiltIndicator 0.0.0.9054","text":"pstr_at_product_level() now output columns google sheet template (#303). company_id + grouped_by now gets one low, medium & high risk_category (#278).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009053","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9053","title":"tiltIndicator 0.0.0.9053","text":"ISTR old argument scenario now named scenarios, consistently PSTR (#299).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009052","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9052","title":"tiltIndicator 0.0.0.9052","text":"xstr*(), NAs reductions now trigger error (#298).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009051","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9051","title":"tiltIndicator 0.0.0.9051","text":"PSTR example datasets now updated (@kalashsinghal #287).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009050","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9050","title":"tiltIndicator 0.0.0.9050","text":"company & benchmark now gets unique risk_category (@Tilmon #286).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009049","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9049","title":"tiltIndicator 0.0.0.9049","text":"New article handling long runtime (#283) pstr*() gain arguments low_threshold high_threshold (@kalashsinghal #273). pstr*() values now expressed proportion (@lindadelacombaz #274).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009048","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9048","title":"tiltIndicator 0.0.0.9048","text":"xctr_at_product_level() now drops NAs unmatched products (#267).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009047","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9047","title":"tiltIndicator 0.0.0.9047","text":"ictr*() pctr*() now retired (#264).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009046","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9046","title":"tiltIndicator 0.0.0.9046","text":"data now simpler: ictr_companies pctr_companies now retired. Instead use new dataset companies. pctr_ecoinvent_co2 now renamed products. ictr_inputs now renamed inputs.","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009045","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9045","title":"tiltIndicator 0.0.0.9045","text":"New xctr*() replace ictr*() pctr*() (#256). functions ictr*() pctr*() internal backward compatibility retired soon.","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009044","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9044","title":"tiltIndicator 0.0.0.9044","text":"ICTR PCTR product level longer output needless columns (#251).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009043","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9043","title":"tiltIndicator 0.0.0.9043","text":"ICTR PCTR argument low_threshold now default 1/3 high_threshold 2/3 (#249).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009042","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9042","title":"tiltIndicator 0.0.0.9042","text":"company 3 different products varying footprints now gets correct value (@Tilmon #248).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009041","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9041","title":"tiltIndicator 0.0.0.9041","text":"ICTR PCTR now handle duplicated co2 data (#230).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009040","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9040","title":"tiltIndicator 0.0.0.9040","text":"*ctr_at_product_level() now outputs clustered *_uuid (#242).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009039","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9039","title":"tiltIndicator 0.0.0.9039","text":"ICTR PCTR example datasets now updated (@kalashsinghal #237). pctr_at_product_level() now returns visibly (#239). ICTR PCTR now handle duplicated companies data (#230). ICTR & PCTR ranking benchmarks now updated (@kalashsinghal #229). ICTR & PCTR high_threshold now computed correctly (@kalashsinghal #229).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009037","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9037","title":"tiltIndicator 0.0.0.9037","text":"product-level functions now output three columns (#228, #227): companies_id grouped_by risk_category","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009036","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9036","title":"tiltIndicator 0.0.0.9036","text":"Datasets family now documented together (#224).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009035","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9035","title":"tiltIndicator 0.0.0.9035","text":"company-level functions now output four columns: companies_id grouped_by risk_category value","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009034","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9034","title":"tiltIndicator 0.0.0.9034","text":"ICTR PCTR example datasets now updated (@kalashsinghal #217).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009033","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9033","title":"tiltIndicator 0.0.0.9033","text":"top level functions now output first four columns (#214): companies_id grouped_by risk_category value","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009032","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9032","title":"tiltIndicator 0.0.0.9032","text":"ictr_at_product_level() pctr_at_product_level() now output company data (#213).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009031","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9031","title":"tiltIndicator 0.0.0.9031","text":"PSTR use new data (@lindadelacombaz #196).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009030","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9030","title":"tiltIndicator 0.0.0.9030","text":"ictr() pctr() first argument now named co2. New internal-ish functions xctr family (#207).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009029","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9029","title":"tiltIndicator 0.0.0.9029","text":"PCTR, company matches input, shares now NA (#205).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009028","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9028","title":"tiltIndicator 0.0.0.9028","text":"ICTR, company matches input, shares now NA (@kalashsinghal #202).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009027","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9027","title":"tiltIndicator 0.0.0.9027","text":"Even companies *uuid absent inputs/co2, shares now sum 1 (@kalashsinghal #197).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009026","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9026","title":"tiltIndicator 0.0.0.9026","text":"indicators now output ungrouped data (#193)","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009025","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9025","title":"tiltIndicator 0.0.0.9025","text":"indicators now export single similar top-level interface (#189). old functions still available now considered developer-oriented therefore visible website. output also similar: first column always id, second column always transition_risk, following column(s) provide score(s). indicators now output id company score (#190).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009024","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9024","title":"tiltIndicator 0.0.0.9024","text":"ICTR example data now reflects real data closely (@kalashsinghal #170).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009023","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9023","title":"tiltIndicator 0.0.0.9023","text":"ictr_score_companies() now errors inputs_co2 NAs (@kalashsinghal #150). New article Get started (#152).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009022","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9022","title":"tiltIndicator 0.0.0.9022","text":"Add istr mvp ( @Lyanneho #144).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009021","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9021","title":"tiltIndicator 0.0.0.9021","text":"BREAKING CHANGES ictr_inputs ictr_companies loose non-crucial columns(@kalashsingal #117). pctr_ecoinvent_co2 pctr_companies loose non-crucial columns (#116). BUG FIXES ictr_score_companies() ictr_score_companies() now return three rows per company regardless number rows co2 data (#122). pctr_score_companies() ictr_score_companies() now return three rows per company (@kalashsinghal #111).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009018","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9018","title":"tiltIndicator 0.0.0.9018","text":"Document PCTR functions (@kalashsinghal, #104). New ICTR functions datasets (@kalashsinghal, #90).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009017","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9017","title":"tiltIndicator 0.0.0.9017","text":"Add ICTR MVP (#90).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009016","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9016","title":"tiltIndicator 0.0.0.9016","text":"un-prefixed pstr datasets now retired (#79).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009014","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9014","title":"tiltIndicator 0.0.0.9014","text":"Remove pstr_plot_company() (#84). name PSTR datasets now include prefix “pstr_” (#74). developer-oriented functions now internal (#67). Remove internal article (#66).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009013","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9013","title":"tiltIndicator 0.0.0.9013","text":"New pctr_*() family functions datasets (#60, #61).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009012","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9012","title":"tiltIndicator 0.0.0.9012","text":"Add pctr (@Tilmon, #56)","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009011","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9011","title":"tiltIndicator 0.0.0.9011","text":"FIX: article pstr now shows expected content (#52). FIX: mvp_path() nonexistent path now throws error (#51).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009010","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9010","title":"tiltIndicator 0.0.0.9010","text":"Document pstr_*() functions (@lindadelacombaz, #50) dev: Rename helper render_to_list() (#43). dev: Prune needless helpers (#42). dev: Rename data-files related pstr (#41). dev: Fix CODEOWNERS.","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009009","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9009","title":"tiltIndicator 0.0.0.9009","text":"dev: Rename data-files related pstr ’s easier express Linda’s ownership (#41).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009008","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9008","title":"tiltIndicator 0.0.0.9008","text":"dev: Use CODEOWNERS (#39).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009007","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9007","title":"tiltIndicator 0.0.0.9007","text":"pstr_at_company_level() fix missing argument companies (#38). dev: Address R CMD Check undefined global variables (#37).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009006","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9006","title":"tiltIndicator 0.0.0.9006","text":"dev: Use new argument left_join().","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009004","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9004","title":"tiltIndicator 0.0.0.9004","text":"dev: Address dplyr warnings (#32).","code":""},{"path":"https://2degreesinvesting.github.io/tiltIndicator/news/index.html","id":"tiltindicator-0009003","dir":"Changelog","previous_headings":"","what":"tiltIndicator 0.0.0.9003","title":"tiltIndicator 0.0.0.9003","text":"New pstr_*() family product sector transition risk. New pstr_*() family PSTR functions. New article “Product sector transition risk” (@lindadelacombaz, #18, #22).","code":""}]
