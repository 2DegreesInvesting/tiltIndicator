<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="The Product Carbon Transition Risk measures the transition risk on the
product-level of a company. The indicator is expressed in the percentage of all
products that are at high risk, medium risk or low risk due to the products'
relative carbon footprint. The assessment is first performed on a product-level
and can then be aggregated to the company-level.
The Product Carbon Transition Risk measures the relative carbon footprint per
product. As a default option each product is compared to the carbon footprint of
every other product. Alternatively, users can also choose to compare those
products of the same type, so e.g., comparing only raw materials with each
other. Products with a higher carbon-footprint face a higher risk.
After identifying each carbon footprint for one product, the products are ranked
according to their carbon footprint. Products in the highest percentile (≥70%)
are classified as high transition risk products. Products in the medium
percentile (between ≥30% and &amp;lt;70%) are classified as medium transition risk
products. Products in the lowest percentile (&amp;lt;30%) are classified as low
transition risk products.
After categorization, we aggregate all products from the same category and set
them in relation to all products that the company produces. We derive the
Product Carbon Transition Risks.
Please note that carbon footprints, and emissions are used equivalently. Carbon
footprint refers only on the emissions which occur at the production stage of
the product and not the emissions from the inputs. The unit is CO2e in kg.
This indicator provides the share of products with &quot;low&quot;, &quot;medium&quot;, or &quot;high&quot;
relative production emissions per company.
The output of this indicator contains the following:
a column with production emissions
a column indicating the percentile relative to (i) all products with same unit (ii) products in same sector (iii) products in same segment
a column indicating whether the product has &quot;low&quot;, &quot;medium&quot; or &quot;high&quot; relative production emissions.

"><title>Calculate the PCTR indicator — pctr • tiltIndicator</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate the PCTR indicator — pctr"><meta property="og:description" content="The Product Carbon Transition Risk measures the transition risk on the
product-level of a company. The indicator is expressed in the percentage of all
products that are at high risk, medium risk or low risk due to the products'
relative carbon footprint. The assessment is first performed on a product-level
and can then be aggregated to the company-level.
The Product Carbon Transition Risk measures the relative carbon footprint per
product. As a default option each product is compared to the carbon footprint of
every other product. Alternatively, users can also choose to compare those
products of the same type, so e.g., comparing only raw materials with each
other. Products with a higher carbon-footprint face a higher risk.
After identifying each carbon footprint for one product, the products are ranked
according to their carbon footprint. Products in the highest percentile (≥70%)
are classified as high transition risk products. Products in the medium
percentile (between ≥30% and &amp;lt;70%) are classified as medium transition risk
products. Products in the lowest percentile (&amp;lt;30%) are classified as low
transition risk products.
After categorization, we aggregate all products from the same category and set
them in relation to all products that the company produces. We derive the
Product Carbon Transition Risks.
Please note that carbon footprints, and emissions are used equivalently. Carbon
footprint refers only on the emissions which occur at the production stage of
the product and not the emissions from the inputs. The unit is CO2e in kg.
This indicator provides the share of products with &quot;low&quot;, &quot;medium&quot;, or &quot;high&quot;
relative production emissions per company.
The output of this indicator contains the following:
a column with production emissions
a column indicating the percentile relative to (i) all products with same unit (ii) products in same sector (iii) products in same segment
a column indicating whether the product has &quot;low&quot;, &quot;medium&quot; or &quot;high&quot; relative production emissions.

"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tiltIndicator</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9038</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/tiltIndicator.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/2DegreesInvesting/tiltIndicator/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Calculate the PCTR indicator</h1>
      <small class="dont-index">Source: <a href="https://github.com/2DegreesInvesting/tiltIndicator/blob/HEAD/R/pctr.R" class="external-link"><code>R/pctr.R</code></a>, <a href="https://github.com/2DegreesInvesting/tiltIndicator/blob/HEAD/R/xctr.R" class="external-link"><code>R/xctr.R</code></a></small>
      <div class="d-none name"><code>pctr.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The Product Carbon Transition Risk measures the transition risk on the
product-level of a company. The indicator is expressed in the percentage of all
products that are at high risk, medium risk or low risk due to the products'
relative carbon footprint. The assessment is first performed on a product-level
and can then be aggregated to the company-level.</p>
<p>The Product Carbon Transition Risk measures the relative carbon footprint per
product. As a default option each product is compared to the carbon footprint of
every other product. Alternatively, users can also choose to compare those
products of the same type, so e.g., comparing only raw materials with each
other. Products with a higher carbon-footprint face a higher risk.</p>
<p>After identifying each carbon footprint for one product, the products are ranked
according to their carbon footprint. Products in the highest percentile (≥70%)
are classified as high transition risk products. Products in the medium
percentile (between ≥30% and &lt;70%) are classified as medium transition risk
products. Products in the lowest percentile (&lt;30%) are classified as low
transition risk products.</p>
<p>After categorization, we aggregate all products from the same category and set
them in relation to all products that the company produces. We derive the
Product Carbon Transition Risks.</p>
<p>Please note that carbon footprints, and emissions are used equivalently. Carbon
footprint refers only on the emissions which occur at the production stage of
the product and not the emissions from the inputs. The unit is CO2e in kg.</p>
<p>This indicator provides the share of products with "low", "medium", or "high"
relative production emissions per company.</p>
<p>The output of this indicator contains the following:</p><ul><li><p>a column with production emissions</p></li>
<li><p>a column indicating the percentile relative to (i) all products with same unit (ii) products in same sector (iii) products in same segment</p></li>
<li><p>a column indicating whether the product has "low", "medium" or "high" relative production emissions.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">pctr</span><span class="op">(</span><span class="va">companies</span>, <span class="va">co2</span>, low_threshold <span class="op">=</span> <span class="fl">0.3</span>, high_threshold <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">pctr_at_product_level</span><span class="op">(</span></span>
<span>  <span class="va">companies</span>,</span>
<span>  <span class="va">co2</span>,</span>
<span>  low_threshold <span class="op">=</span> <span class="fl">0.3</span>,</span>
<span>  high_threshold <span class="op">=</span> <span class="fl">0.7</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">pctr_at_company_level</span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>companies</dt>
<dd><p>A dataframe like <a href="pctr_datasets.html">pctr_companies</a>.</p></dd>


<dt>co2</dt>
<dd><p>A dataframe like <a href="pctr_datasets.html">pctr_ecoinvent_co2</a>.</p></dd>


<dt>low_threshold</dt>
<dd><p>A numeric value to segment low and medium transition
risk products.</p></dd>


<dt>high_threshold</dt>
<dd><p>A numeric value to segment medium and high transition
risk products.</p></dd>


<dt>data</dt>
<dd><p>A dataframe. The output at product level.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>At product level, a dataframe with at least columns companies_id, grouped_by, risk_category. At company level, a dataframe with at least columns companies_id, grouped_by, risk_category, value.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">companies</span> <span class="op">&lt;-</span> <span class="va">pctr_companies</span></span></span>
<span class="r-in"><span><span class="va">co2</span> <span class="op">&lt;-</span> <span class="va">pctr_ecoinvent_co2</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Product level</span></span></span>
<span class="r-in"><span><span class="va">companies</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">pctr_at_product_level</span><span class="op">(</span><span class="va">co2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Company level</span></span></span>
<span class="r-in"><span><span class="va">companies</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">pctr_at_product_level</span><span class="op">(</span><span class="va">co2</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">pctr_at_company_level</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 144 × 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    companies_id                           grouped_by risk_category value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> bst-procontrol-gmbh_00000005104947-001 all        high            0.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> bst-procontrol-gmbh_00000005104947-001 all        medium          0.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> bst-procontrol-gmbh_00000005104947-001 all        low             0  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> bst-procontrol-gmbh_00000005104947-001 isic_sec   high            0.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> bst-procontrol-gmbh_00000005104947-001 isic_sec   medium          0.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> bst-procontrol-gmbh_00000005104947-001 isic_sec   low             0  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> bst-procontrol-gmbh_00000005104947-001 tilt_sec   high            0.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> bst-procontrol-gmbh_00000005104947-001 tilt_sec   medium          0.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> bst-procontrol-gmbh_00000005104947-001 tilt_sec   low             0  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> bst-procontrol-gmbh_00000005104947-001 unit       high            1  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 134 more rows</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Same</span></span></span>
<span class="r-in"><span><span class="fu">pctr</span><span class="op">(</span><span class="va">companies</span>, <span class="va">co2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 144 × 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    companies_id                           grouped_by risk_category value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> bst-procontrol-gmbh_00000005104947-001 all        high            0.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> bst-procontrol-gmbh_00000005104947-001 all        medium          0.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> bst-procontrol-gmbh_00000005104947-001 all        low             0  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> bst-procontrol-gmbh_00000005104947-001 isic_sec   high            0.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> bst-procontrol-gmbh_00000005104947-001 isic_sec   medium          0.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> bst-procontrol-gmbh_00000005104947-001 isic_sec   low             0  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> bst-procontrol-gmbh_00000005104947-001 tilt_sec   high            0.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> bst-procontrol-gmbh_00000005104947-001 tilt_sec   medium          0.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> bst-procontrol-gmbh_00000005104947-001 tilt_sec   low             0  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> bst-procontrol-gmbh_00000005104947-001 unit       high            1  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 134 more rows</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Mauro Lepore, Tilman Trompke, Linda Delacombaz, Kalash Singhal, Lyanne Ho, 2 Degrees Investing Initiative.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

