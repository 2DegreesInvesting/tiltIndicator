<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Calculate the indicator "emissions profile upstream" — emissions_profile_upstream • tiltIndicator</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate the indicator " emissions profile upstream emissions_profile_upstream><meta name="description" content="The indicator &quot;emissions profile upstream&quot; assesses the transition risk of the
upstream products due to their relative carbon footprint to other upstream
products. As a default option, each upstream product is compared to the carbon
footprint of every other upstream product. Upstream products with a higher
carbon footprint face a higher risk. On a company-level, the indicator proxies
for the supply chain risk of a company - based on its inputs.
The indicator &quot;emissions profile upstream&quot; is therefore similar to the Product
Carbon Transition Risk Indicator, but it focuses on the upstream products and
not the product of the company. Upstream products are, for example, resources,
packaging materials, energy and enabling services (such as tractor use on farm)
to produce the product.
After identifying each carbon footprint for one upstream product, the input
products are ranked according to their footprint. The ranking method is
explained in the
Thresholds
section.
After assessing the upstream products' transition risk based on the carbon
footprint of each product, they are aggregated at the company-level. We derive
what percentage of the upstream products are high, medium and low transition
risk.
This indicator consists of 2 broad steps:
Score upstream products: Identifying the upstream products for each product,
and calculating the relative carbon footprint per upstream product.
Score companies: Aggregating on the company-level.


The sample data set includes inputs and co2 footprints for each product from
Ecoinvent and sectors from Europages. NOTE: the following columns are a
completely random selection and do not reflect the true information:
co2 footprints (not allowed to share licensed data right now)
sectors (as the matching with ecoinvent is not done yet, we do not have one sector per product yet)

"><meta property="og:description" content="The indicator &quot;emissions profile upstream&quot; assesses the transition risk of the
upstream products due to their relative carbon footprint to other upstream
products. As a default option, each upstream product is compared to the carbon
footprint of every other upstream product. Upstream products with a higher
carbon footprint face a higher risk. On a company-level, the indicator proxies
for the supply chain risk of a company - based on its inputs.
The indicator &quot;emissions profile upstream&quot; is therefore similar to the Product
Carbon Transition Risk Indicator, but it focuses on the upstream products and
not the product of the company. Upstream products are, for example, resources,
packaging materials, energy and enabling services (such as tractor use on farm)
to produce the product.
After identifying each carbon footprint for one upstream product, the input
products are ranked according to their footprint. The ranking method is
explained in the
Thresholds
section.
After assessing the upstream products' transition risk based on the carbon
footprint of each product, they are aggregated at the company-level. We derive
what percentage of the upstream products are high, medium and low transition
risk.
This indicator consists of 2 broad steps:
Score upstream products: Identifying the upstream products for each product,
and calculating the relative carbon footprint per upstream product.
Score companies: Aggregating on the company-level.


The sample data set includes inputs and co2 footprints for each product from
Ecoinvent and sectors from Europages. NOTE: the following columns are a
completely random selection and do not reflect the true information:
co2 footprints (not allowed to share licensed data right now)
sectors (as the matching with ecoinvent is not done yet, we do not have one sector per product yet)

"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tiltIndicator</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9228</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/tiltIndicator.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/extending-outputs.html">Extending results at product level with columns from input datasets</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/2DegreesInvesting/tiltIndicator/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Calculate the indicator "emissions profile upstream"</h1>
      <small class="dont-index">Source: <a href="https://github.com/2DegreesInvesting/tiltIndicator/blob/main/R/emissions_profile.R" class="external-link"><code>R/emissions_profile.R</code></a>, <a href="https://github.com/2DegreesInvesting/tiltIndicator/blob/main/R/emissions_profile_upstream.R" class="external-link"><code>R/emissions_profile_upstream.R</code></a></small>
      <div class="d-none name"><code>emissions_profile_upstream.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The indicator "emissions profile upstream" assesses the transition risk of the
upstream products due to their relative carbon footprint to other upstream
products. As a default option, each upstream product is compared to the carbon
footprint of every other upstream product. Upstream products with a higher
carbon footprint face a higher risk. On a company-level, the indicator proxies
for the supply chain risk of a company - based on its inputs.</p>
<p>The indicator "emissions profile upstream" is therefore similar to the Product
Carbon Transition Risk Indicator, but it focuses on the upstream products and
not the product of the company. Upstream products are, for example, resources,
packaging materials, energy and enabling services (such as tractor use on farm)
to produce the product.</p>
<p>After identifying each carbon footprint for one upstream product, the input
products are ranked according to their footprint. The ranking method is
explained in the
<a href="https://2degreesinvesting.github.io/tiltIndicator/articles/tiltIndicator.html#thresholds">Thresholds</a>
section.</p>
<p>After assessing the upstream products' transition risk based on the carbon
footprint of each product, they are aggregated at the company-level. We derive
what percentage of the upstream products are high, medium and low transition
risk.</p>
<p>This indicator consists of 2 broad steps:</p><ol><li><p>Score upstream products: Identifying the upstream products for each product,
and calculating the relative carbon footprint per upstream product.</p></li>
<li><p>Score companies: Aggregating on the company-level.</p></li>
</ol><p>The sample data set includes inputs and co2 footprints for each product from
Ecoinvent and sectors from Europages. NOTE: the following columns are a
completely random selection and do not reflect the true information:</p><ul><li><p>co2 footprints (not allowed to share licensed data right now)</p></li>
<li><p>sectors (as the matching with ecoinvent is not done yet, we do not have one sector per product yet)</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">emissions_profile_upstream</span><span class="op">(</span></span>
<span>  <span class="va">companies</span>,</span>
<span>  <span class="va">co2</span>,</span>
<span>  low_threshold <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">3</span>,</span>
<span>  high_threshold <span class="op">=</span> <span class="fl">2</span><span class="op">/</span><span class="fl">3</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-companies-co-">companies, co2<a class="anchor" aria-label="anchor" href="#arg-companies-co-"></a></dt>
<dd><p>A dataframe like the dataset with a matching name in tiltToyData (see <a href="https://2degreesinvesting.github.io/tiltToyData/reference/index.html" class="external-link">Reference</a>).</p></dd>


<dt id="arg-low-threshold">low_threshold<a class="anchor" aria-label="anchor" href="#arg-low-threshold"></a></dt>
<dd><p>A numeric value to segment low and medium emission
profile products.</p></dd>


<dt id="arg-high-threshold">high_threshold<a class="anchor" aria-label="anchor" href="#arg-high-threshold"></a></dt>
<dd><p>A numeric value to segment medium and high emission
profile products.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame with the column <code>companies_id</code>, and the list columns <code>product</code> and <code>company</code> holding the outputs at product and company level. Unnesting <code>product</code> yields a data frame with at least columns <code>companies_id</code>, <code>grouped_by</code>, <code>risk_category</code>. Unnesting <code>company</code> yields a data frame with at least columns <code>companies_id</code>, <code>grouped_by</code>, <code>risk_category</code>, <code>value</code>. Any column in the input datasets ending with <code>*rowid</code> is also passed as is to the output at product level. The exception is any column named exactly <code>rowid</code>– which is a reserved name and throws an error. Note this feature makes no sense at company level because potentially multiple rows in the input datasets are summarized into a single row in the output at company level.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other main functions:
<code><a href="emissions_profile.html">emissions_profile</a>()</code>,
<code><a href="sector_profile.html">sector_profile</a>()</code>,
<code><a href="sector_profile_upstream.html">sector_profile_upstream</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/2DegreesInvesting/tiltIndicator" class="external-link">tiltIndicator</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://2degreesinvesting.github.io/tiltToyData/" class="external-link">tiltToyData</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://readr.tidyverse.org" class="external-link">readr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>readr.show_col_types <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">companies</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://2degreesinvesting.github.io/tiltToyData/reference/toy_files.html" class="external-link">toy_emissions_profile_any_companies</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">inputs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://2degreesinvesting.github.io/tiltToyData/reference/toy_files.html" class="external-link">toy_emissions_profile_upstream_products_ecoinvent</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">both</span> <span class="op">&lt;-</span> <span class="fu">emissions_profile_upstream</span><span class="op">(</span><span class="va">companies</span>, <span class="va">inputs</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">both</span> <span class="op">|&gt;</span> <span class="fu"><a href="unnest_product.html">unnest_product</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 690 × 8</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    companies_id        grouped_by        risk_category profile_ranking clustered</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> antimonarchy_canine all               high                    0.938 tent     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> antimonarchy_canine input_isic_4digit high                    1     tent     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> antimonarchy_canine input_tilt_subse… high                    1     tent     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> antimonarchy_canine input_unit        high                    1     tent     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> antimonarchy_canine input_unit_input… high                    1     tent     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> antimonarchy_canine input_unit_input… high                    1     tent     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> celestial_lovebird  all               high                    0.938 table hi…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> celestial_lovebird  input_isic_4digit high                    1     table hi…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> celestial_lovebird  input_tilt_subse… high                    1     table hi…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> celestial_lovebird  input_unit        high                    1     table hi…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 680 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 3 more variables: activity_uuid_product_uuid &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   input_activity_uuid_product_uuid &lt;chr&gt;, input_co2_footprint &lt;dbl&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">both</span> <span class="op">|&gt;</span> <span class="fu"><a href="unnest_product.html">unnest_company</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 1,728 × 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    companies_id        grouped_by           risk_category value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> antimonarchy_canine all                  high              1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> antimonarchy_canine all                  medium            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> antimonarchy_canine all                  low               0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> antimonarchy_canine all                  <span style="color: #BB0000;">NA</span>                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> antimonarchy_canine input_isic_4digit    high              1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> antimonarchy_canine input_isic_4digit    medium            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> antimonarchy_canine input_isic_4digit    low               0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> antimonarchy_canine input_isic_4digit    <span style="color: #BB0000;">NA</span>                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> antimonarchy_canine input_tilt_subsector high              1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> antimonarchy_canine input_tilt_subsector medium            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 1,718 more rows</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kalash Singhal, <a href="https://github.com/maurolepore" class="external-link">Mauro Lepore</a>, Anne Schoenauer, Tilman Trompke, Linda Delacombaz, Lyanne Ho, 2 Degrees Investing Initiative.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

